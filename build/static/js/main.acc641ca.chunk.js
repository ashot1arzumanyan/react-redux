(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(61)},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAvCAYAAABe1bwWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyM0U2OTk0QTA1RjAxMUUzOTkwODgwRUU1QTkwOENFMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyM0U2OTk0QjA1RjAxMUUzOTkwODgwRUU1QTkwOENFMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFCMUU5NjhCMDVGMDExRTM5OTA4ODBFRTVBOTA4Q0UwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFCMUU5NjhDMDVGMDExRTM5OTA4ODBFRTVBOTA4Q0UwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+qB01LgAAARZJREFUeNrs279OwlAYhvHTwiC7AS5FFydCnMRBITE68ueSIK4ORiamoiMuTt4HCcwMDvX9wkcjOTqSGPq8yROGsvSXk3aBZH3bDz92qYbqTDVUEo57uVqqDzVR892F1D9P1LPK1LVqlgAl+D02/Z4zN6jZhap/4VH1AjODL/VgJ6at7jEpZhbt1J8pbH8jg7nAIdq5wZziEK2eYvDrUmD+koEAGGCAAQYYYP77qneVFgqcGGCAAQYYYIABBhhggGHAAAPMAZbknzc5DJwYYIABBhhggAEGmFLArGCItjaYdxyiLQxmjEO0icG8qScsipnF6+7hO1AvmISpWxRvpU3Y/o7+Ss3C9h8ZZdnS77mjum4RvgUYAIayI5icBAa3AAAAAElFTkSuQmCC"},54:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAvCAYAAABe1bwWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NjI0MDE3QTA1RUUxMUUzOTkwODgwRUU1QTkwOENFMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NjI0MDE3QjA1RUUxMUUzOTkwODgwRUU1QTkwOENFMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU2MjQwMTc4MDVFRTExRTM5OTA4ODBFRTVBOTA4Q0UwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU2MjQwMTc5MDVFRTExRTM5OTA4ODBFRTVBOTA4Q0UwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+50R7MgAAAQ9JREFUeNrs27FqwlAYhuFzgkMvoNBb6RXUTu1kOzk4VL0eJ0OXDi7q5FYd6+J1OCnqKAEF9fuboxhSR0Ga94UPQpx8OMRB9etk48561hrao/agefe/22tzbaLF2vfxBR9g7rQv7d0Vu65W05JSuPEJym9msNWqdmKedDHEJFM5Cs8Uyta0E7PQxT0WmWYGs8ch1y7C4M8iYC7JQAAMMMAAAwwwt16p0pqiwIkBBhhggAEGGGCAAQYYAgYYYK6QX1U++MKNEwMMMMAAAwwwwABTDJglDLlWBjPGIdePwbRxyBUbzEjrYHHKLIbHh29d62Hi+sHi9KmUuPR39C/awKX/yChK8/CeX7W3YOEOAgwA5jAzvf7VtbQAAAAASUVORK5CYII="},55:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAvCAYAAABe1bwWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNkZCQjA0NzA1RUQxMUUzOTkwODgwRUU1QTkwOENFMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNkZCQjA0ODA1RUQxMUUzOTkwODgwRUU1QTkwOENFMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RkJCMDQ1MDVFRDExRTM5OTA4ODBFRTVBOTA4Q0UwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RkJCMDQ2MDVFRDExRTM5OTA4ODBFRTVBOTA4Q0UwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jIYSGQAACrdJREFUeNrsWglYTXkb/92lbrdCiAljTfalkUiLyojEh0Sh1KdJGAzNzPeZ3ErKNYxnJpmxtMhSiMlHvpFsU1pIKSqlwliTFlm6e8ud/znRdDLjEZfw9D7Pee5z73vP/5zzO+//fX/vwno4awE4PbqB7+mKo0UK2z2/XlmoUNSaAPiEHCy8BYnf70h/Vjp6vvR/HQ6G0p+2cw7iLYmSHKUcDivN3q5fiIt5p3jFjr2ouXoNbEpbe6dYQ+S7PtruYfbx7YHW0w0Hd9Z7W6C8Z8LS76mjF7xm3HQXrZLj0lXCaAIKn1Jwn/0hDEqlk+zYaWhmXEaAhzMSzHoiLOoyRJLqjxIRdXUO5toPwowhmpCGbIXk1l3qZydyUA88j63pOmsCi8dzeX5CXVkFROuCYZ6fiNAAS5iN+vSjA2XowE7YFmiNqeKrEPl+j9p6UJ7ZEMtFY/L4CeydFboLeet8oDZsEONk+dnzYPsLsXKUGny9TNGxPf+DB0STr4al7kZY59AV2j/+BFlsPPEjdQ16Tnfye8B/Ea9ruIgbe+La2LSs++QERwwzvwXJnl+hFInrredJFUTBYRhmNBzbVzkiPO4WTibeJLvuwwPFxKgrls0ZBI1jcagKTwbjIbhc8GfYoXSkKfzCs1B4o3IM5Xx1S8vF8N2QguA8DjiBAqiPGclYtDozGzWCQHzZS4INAkt01dP+YADRacuD9zITrLLUBidgPeSnkxigcA36QEu4CgfremGp7+8UKNTPnbmNF/k95TYycx5gkastzCxGQxK+F3WVj+vjmlQGMfnea0BfbF3hgqjUchyOK0Jt7ftrPjZje2HBNH2wD8RAdD6TGY40eODPsccffYZi05ZM3Cl+2ljNZjdd7MlTOTb8kobAM0+hEHwH3gRLyiE16GsKroOENThrFCPY3xok3L13gHzSSQtCbwssHVCNWp+1UDQBRW34YPCEPogo1cE3axKbgoLG4foFybhcgoWF5XCfPRq2q40hCYlEbUlpvfVUV0MafQSdzl9EECGGR67KEHUoD4QYtiwpIS9wuq0B5ll3Qe3u/RDn5DP1bbSg6eaEnLY98fMPGSirkPzjWuyXXUgqrcGWnVlYeeAennztBb69HXHdf51Se/seCXfrMeVxLrYFWNFhsKWk56ftELTaCm4dKyBftRbVTUBRNzMGO0CA4FwW8afJLwXlpRbTWPKLKrCEOKbZ0wZh5toRkIdHoubG7WfEpw6y305BixBD4QIXnCbEcMe+bIjfETHkctmYPX0gHEe0hSwsHJLrN5lvvmN7aHnMRYqsPbYHpNKu4pXWfdUbqK6uQ2TMFSRfaIcVHp7oVXgJ0oNHoZQr6vEpLYdIuAmWVqYYHTAFW6ILcO5i8VsFZYBBR3i5G6JzeipEAsJJamoa7yvwbMZCbDsJP+3LQ/qlwuYB3tybuXX3Cbz8E+m97EqIYc3Ofai+UvAsJVNCnpAKTlYuvnOfgwvmpti6KwuPHstUCghfgws3x6GY3IcFSfBmSItLGHpOVz1oerog/h4bEX6JtEtotiW+VkpKADh8vAjnM4ux7Is5GGLxRz0xFEueEcOnEAWF4DNjQ4QKZiLs2G2cOqsaYmg0TA9fuQxBm9MnUbUrgUnUiP/jT7VFhaklAnZeQl5hxetv0Te5yQdlYgi+T67nC2t9wI6OgeJCVoNeQfwOK68QS1wcMM5sLILDMlFSJn6ta7XVVseCeYawaiOC+PsfIKuoZD6Ifk/wiI/7X7YY+3zP0Fv/jXyXKkz7VNItOrwvdrPDmLEmhBjuQ92jZ8RQIoU4NAp9Bhpg69fOiEoub/b6lqY9sNjBANxDsahKTmOGYHU18J2m4c6AEQgKycLNO49VE/onzj6gUuo6ekR9TsKPi4P8DDMnoR5Cw2EKCfuTmlWoUqSkQ7zrAJRPq5hEbXB/cOc7IzLpAY4cv0YCpOoehaVUtlxK+KrAtISw0Sp/bzEPZy1QtsLQajGtwLQC0wpMKzCtwLQC8yHymFbm22oxzcuuVTlJ0LuHDlZ4jEDPgixID8RCqWCWN9UtTFAzYxp0unVs1rpF1yvQPTcDskO/MdekqnSfW0BqZ4fNdJWu5P2yGDU1Ntwch2DTooHoEhECSWQM4wHYuh3QxvsrpA0fB0//5Gav7+WfgL2SruCvE4A70OAvBVUxPJ0EbuB6+Fi3wXfLTOgGm0os5k0XGNxfF8vnG6LTuSSIVzF7wdQb1ZhohSqbidgYdQWZTSr3rypUUy/mt0Kkpt/Dck9XDCwphCTqEF3roYSq/Yg2bsVIEyOE+jlg+5EbdPOwRYDh87lwnz0Mtt2VkARtgvT+A4ae060LNBfNw7E/lNhN1V1lNW/8Fqnqn7fwLCZY9YbHWgFY+2PoKuFzUaRlgpV7FctdZ+FzCwtsDs8C1X5+Z8AYG3bBMufB0Io/jqodSS82yKdNRNloc6yOuIyCaw9V6hSpS51IuEn7k6Xzp8LYfDQkEfvpOjOtF0sg3rYb/YYMwLZv52JPYgli46+jucG3WT6mHdm/K5eawM9GB+rCDZCfPMtskPftDW2hNw5x+2KJb4LKQWksVOchMOgc1p+TodbfGzxrM0YrmepcyAVr8e/25XQjjmrIvRWLsTbrgUX2fcGJOYyq1AwmGeLxwHeailsGhgjamoXb9568s7BK9a5y8svwhbMFPjcbBUlYFN3joq1HrqADQVf9DGxe7IqYS1XYfyQfNTV1b24xnXU1EbjSAl7DiZPzE0LRBBRq4IgaPNpd2QleaxLfKSjPhRqHCw67CJ/YUkj+8w00ptgwWslU11QsEGKGoghbAq0xqJ/u61sM1SCfYqOP+eO7oTYyGqLLeUy9liY0iZO70rEPNm+8+NpOTpVCWc4isoVdHIZieoAxpKF76P56fWirg/RwHHQuZGGDpwvi7nbHrujcfwwKfwtMj25tsdzDCPo3yYmCnVDKmP1e9TFGqHOaiV9ib+BUUjLeJ6EmLiL25yCpd3usWPgluuWkE2J4jJ7QoPEh0bNqzY8YbzMWYwIm4WdCDKnWz0uB4RLzmzV1AGYb60AeEQFJ4Q3mvmuvA02PuThf3QHb1qTg8Ss2yFtCrt98hOWEGDpM7o+5hBgqdkTRsz0NxJAEDvWL2fD1cEYK8Z8hkZcZDX8KGKqPqdtfvwNWfPEZ9DLPk/0Y92KDnFBvGaHe66LzkZZZ9EHkOxQxPHi0ACnp2iRVcUP/4gJI9h6ip8NoYlhJiOEPWzDK1BhGvvaEGF5HQuodSvWQy+Nxkt1mDbWf0pcD6ZZfIL3DnFDg6HWG5sJ5OHGfiwi/s5BIP7y53/sPRFhJiKGtdR+4C33B2ncQCmItDdvvXAZYhJWvcHPEOHNz/LwjK4l1/27lhHZnTp2QxZ15oUFOefdHFtbYtCsbuVfLVXajLTkyT43lLnEfgZHy+5DsiqYnU5tGWY7rHFs2f/3Gk7Jjp6Mag8Lp1R3agd44qjUIi30SVApKS8vDR1IE/JiKDenVUPoLwLMcw9BX5+RHEWJ4gktNghOhXp06S13NkT/zX7g31BhBYZm4cfsxPlahEtLsvDIscLaCNZVWUMSwrOJXCgulXN5A8KQknXciaf3UKHGX2OWrfy/9mEFpIIZiBYJCM0r9/l8WK1357TSNyeMdwWbTKfufAgwAryiYi1WydiIAAAAASUVORK5CYII="},58:function(e,t,n){e.exports=n.p+"static/media/edit.b9a42c86.svg"},59:function(e,t,n){e.exports=n.p+"static/media/delete.2fb2c0c5.svg"},61:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(20),o=n.n(i),c=n(6),s=n(7),l=n(8),u=n(5),m=n(9),d=n(11),p=n(12),h=n.n(p),y=(n(47),n(48),n(49),n(51),n(18)),f=n(33),b=n(34),v=n(35),E=n(10),O={common:{region:"",city:"",type:"",subType:"",price:"",unit:"",available_quantity:"",email:"",phone:"",comment:"",plan_to_have:"",quantity:"",when:"",add:"",oneTime:"",continuous:"",frequency:"",year:"",month:"",day:"",week:"",mark_the_date:"",username:"",password:"",repeat_password:"",units:{kg:"",hat:"",gram:"",tonna:""}},Login:{},addNewDemand:{},Navigation:{login:"",register:"",addNewProposal:"",addNewDemand:""},Filter:{regions:{erevan:"",aragacotn:"",ararat:"",armavir:"",gexarkunik:"",kotayk:"",lori:"",shirak:"",syunik:"",tavush:"",vayoc_cor:""},cities:{ashtarak:"",aparan:"",talin:"",ararat:"",artashat:"",masis:"",vedi:"",armavir:"",vaxarshapat:"",mecamor:"",gavar:"",jambarak:"",martuni:"",sevan:"",vardenis:"",abovyan:"",byurexavan:"",exvard:"",nor_hajn:"",charencavan:"",alaverdi:"",axtala:"",tumanyan:"",shamlux:"",spitak:"",stepanavan:"",tashir:"",artik:"",gyumri:"",maralik:"",agarak:"",goris:"",dastakert:"",kapan:"",mexri:"",sisian:"",qajaran:"",ayrum:"",berd:"",dilijan:"",ijevan:"",noyemberyan:"",exegnacor:"",jermuk:"",vayq:""},types:{katnamterq:"",msamterq:"",banjarexen:"",mirg:"",hataptux:"",ynkuzexen:"",chir_ev_charaz:"",pahaconer:"",kanachexen:"",tnkiner:""},subTypes:{panir:"",kat:"",garan_mis:"",khozi_mis:"",khncor:"",tanc:"",ciran:"",khaxox:"",khncoreni:"",saloreni:"",tanceni:""}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANG":return Object(E.a)({},e,t.payload);default:return e}},j={isFetching:!1,isLoggedIn:!1,isFirstLogin:!1,email:"",username:"",errors:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(E.a)({},e,t.payload,{errors:[],isLoggedIn:!0,isFetching:!1,isFirstLogin:!1});case"LOGIN_FAIL":return Object(E.a)({},e,t.payload,{isLoggedIn:!1,isFetching:!1});case"CHECK_TOKEN_START_FETCHING":return Object(E.a)({},e,{isFetching:!0});case"CHECK_TOKEN_SUCCESS":return Object(E.a)({},e,t.payload,{isLoggedIn:!0,isFetching:!1});case"CHECK_TOKEN_FAIL":return Object(E.a)({},e,{isLoggedIn:!1,isFetching:!1,email:"",username:"",_id:""});case"LOGOUT":return Object(E.a)({},e,{isLoggedIn:!1,email:"",username:""});case"SET_USER_EMAIL":return Object(E.a)({},e,{isFirstLogin:!0,email:t.payload});default:return e}},S={isFetching:!1,confirmationMsgSent:!1,email:"",username:"",errors:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":return Object(E.a)({},e,t.payload,{confirmationMsgSent:!0,errors:[]});case"REGISTER_FAIL":return Object(E.a)({},e,t.err);default:return e}},I={isFetchingGet:!1,isFetchingAddNew:!1,proposals:[],errors:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROPSALS_START_FETCHING":return Object(E.a)({},e,{isFetchingGet:!0});case"GET_PROPOSALS_SUCCESS":return Object(E.a)({},e,{proposals:t.payload,errors:[],isFetchingGet:!1});case"GET_PROPOSALS_FAIL":return Object(E.a)({},e,{errors:t.payload,isFetchingGet:!1});case"SAVE_PROPOSAL_START_FETCHING":return Object(E.a)({},e,{isFetchingAddNew:!0});case"SAVE_PROPOSAL_SUCCESS":return Object(E.a)({},e,{isFetchingAddNew:!1});case"SAVE_PROPOSAL_FAIL":return Object(E.a)({},e,{errors:t.payload,isFetchingAddNew:!1});case"EDIT_PROPOSAL_START_FETCHING":return Object(E.a)({},e,{isFetchingAddNew:!0});case"EDIT_PROPOSAL_SUCCESS":return Object(E.a)({},e,{isFetchingAddNew:!1});case"EDIT_PROPOSAL_FAIL":return Object(E.a)({},e,{errors:t.payload,isFetchingAddNew:!1});default:return e}},A={isLoaded:!1,isFetchingGet:!1,isFetchingAddNew:!1,demands:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DEMANDS_START_FETCHING":return Object(E.a)({},e,{isFetchingGet:!0});case"GET_DEMANDS_SUCCESS":return Object(E.a)({},e,{demands:t.payload,isLoaded:!0,isFetchingGet:!1});case"GET_DEMANDS_FAIL":return Object(E.a)({},e,t.payload,{isFetchingGet:!1});case"SAVE_DEMAND_START_FETCHING":return Object(E.a)({},e,{isFetchingAddNew:!0});case"SAVE_DEMAND_SUCCESS":case"SAVE_DEMAND_FAIL":return Object(E.a)({},e,{isFetchingAddNew:!1});case"EDIT_DEMAND_START_FETCHING":return Object(E.a)({},e,{isFetchingAddNew:!0});case"EDIT_DEMAND_SUCCESS":case"EDIT_DEMAND_FAIL":return Object(E.a)({},e,{isFetchingAddNew:!1});default:return e}},T={isLoaded:!1,city:{ashtarak:{proposal:0,demand:0},aparan:{proposal:0,demand:0},talin:{proposal:0,demand:0},ararat:{proposal:0,demand:0},artashat:{proposal:0,demand:0},masis:{proposal:0,demand:0},vedi:{proposal:0,demand:0},armavir:{proposal:0,demand:0},vaxarshapat:{proposal:0,demand:0},mecamor:{proposal:0,demand:0},gavar:{proposal:0,demand:0},jambarak:{proposal:0,demand:0},martuni:{proposal:0,demand:0},sevan:{proposal:0,demand:0},vardenis:{proposal:0,demand:0},abovyan:{proposal:0,demand:0},byurexavan:{proposal:0,demand:0},exvard:{proposal:0,demand:0},nor_hajn:{proposal:0,demand:0},charencavan:{proposal:0,demand:0},alaverdi:{proposal:0,demand:0},axtala:{proposal:0,demand:0},tumanyan:{proposal:0,demand:0},shamlux:{proposal:0,demand:0},spitak:{proposal:0,demand:0},stepanavan:{proposal:0,demand:0},tashir:{proposal:0,demand:0},artik:{proposal:0,demand:0},gyumri:{proposal:0,demand:0},maralik:{proposal:0,demand:0},agarak:{proposal:0,demand:0},goris:{proposal:0,demand:0},dastakert:{proposal:0,demand:0},kapan:{proposal:0,demand:0},mexri:{proposal:0,demand:0},sisian:{proposal:0,demand:0},qajaran:{proposal:0,demand:0},ayrum:{proposal:0,demand:0},berd:{proposal:0,demand:0},dilijan:{proposal:0,demand:0},ijevan:{proposal:0,demand:0},noyemberyan:{proposal:0,demand:0},exegnacor:{proposal:0,demand:0},jermuk:{proposal:0,demand:0},vayq:{proposal:0,demand:0}},region:{erevan:{proposal:0,demand:0},aragacotn:{proposal:0,demand:0},ararat:{proposal:0,demand:0},armavir:{proposal:0,demand:0},gexarkunik:{proposal:0,demand:0},kotayk:{proposal:0,demand:0},lori:{proposal:0,demand:0},shirak:{proposal:0,demand:0},syunik:{proposal:0,demand:0},tavush:{proposal:0,demand:0},vayoc_cor:{proposal:0,demand:0}},subType:{panir:{proposal:0,demand:0},kat:{proposal:0,demand:0},garan_mis:{proposal:0,demand:0},khozi_mis:{proposal:0,demand:0},khncor:{proposal:0,demand:0},tanc:{proposal:0,demand:0},ciran:{proposal:0,demand:0},khaxox:{proposal:0,demand:0},khncoreni:{proposal:0,demand:0},saloreni:{proposal:0,demand:0},tanceni:{proposal:0,demand:0}},type:{katnamterq:{proposal:0,demand:0},msamterq:{proposal:0,demand:0},banjarexen:{proposal:0,demand:0},mirg:{proposal:0,demand:0},hataptux:{proposal:0,demand:0},ynkuzexen:{proposal:0,demand:0},chir_ev_charaz:{proposal:0,demand:0},pahaconer:{proposal:0,demand:0},kanachexen:{proposal:0,demand:0},tnkiner:{proposal:0,demand:0}}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUM_OF_SUCCESS":return Object(E.a)({},e,t.payload,{isLoaded:!0});default:return e}},F={isLoaded:!1,isFetching:!1,demandsById:[],errors:[]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DEMANDS_BY_ID_START_FETCHING":return Object(E.a)({},e,{isFetching:!0});case"GET_DEMANDS_BY_ID_SUCCESS":return Object(E.a)({},e,{demandsById:t.payload,isLoaded:!0,isFetching:!1,errors:[]});case"GET_DEMANDS_BY_ID_FAIL":return Object(E.a)({},e,t.payload,{isFetching:!1});case"DELETE_DEMAND_SUCCESS":var n=t.payload;return Object(E.a)({},e,{demandsById:e.demandsById.filter(function(e){return e._id!==n})});case"DELETE_DEMAND_FAIL":return Object(E.a)({},e,{errors:t.payload});default:return e}},L={isFetching:!1,proposalsById:[],errors:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROPSALS_BY_ID_START_FETCHING":return Object(E.a)({},e,{isFetching:!0});case"GET_PROPOSALS_BY_ID_SUCCESS":return Object(E.a)({},e,{proposalsById:t.payload,errors:[],isFetching:!1});case"GET_PROPOSALS_BY_ID_FAIL":return Object(E.a)({},e,{errors:t.payload,isFetching:!1});case"DELETE_PROPOSAL_SUCCESS":var n=t.payload;return Object(E.a)({},e,{proposalsById:e.proposalsById.filter(function(e){return e._id!==n})});case"DELETE_PROPOSAL_FAIL":return Object(E.a)({},e,{errors:t.payload});default:return e}},P=n(13),x={region:null,city:null,type:null,subType:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FILTER":return Object(E.a)({},e,t.payload);case"DELETE_FILTER":return Object(E.a)({},e,Object(P.a)({},t.payload,null));case"RESET_FILTERS":return Object(E.a)({},e,x);default:return e}},R=Object(y.combineReducers)({content:g,user:k,userRegister:N,proposals:w,demands:_,sumOf:C,filterBy:M,demandsById:D,proposalsById:B}),G=R,U=Object(y.applyMiddleware)(b.a,Object(f.createLogger)()),q=Object(y.createStore)(G,Object(v.composeWithDevTools)(U)),Y=q,V=n(3),Z=n(65),W=n(62),z=n(63),J=n(19),H=n(2),Q=function(e){return{type:"LOGIN_SUCCESS",payload:e}},X=function(e){return{type:"LOGIN_FAIL",payload:e}},K=function(e,t){return function(n){fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.ok)return localStorage.setItem("access_token",e.access_token),t(),n(Q(e.user));throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),n(X(e))})}},$=function(){function e(t){Object(c.a)(this,e),this.target=t.target}return Object(s.a)(e,[{key:"focus",value:function(){var e=this.target.parentElement;e.classList.add("jump"),e.classList.remove("jumpCancel")}},{key:"blur",value:function(){var e=this.target.parentElement;this.target.value||(e.classList.remove("jump"),e.classList.add("jumpCancel"))}},{key:"checkListIsClosed",value:function(){return this.target.parentElement.querySelector("ul").classList.contains("d-none")}},{key:"getName",value:function(){return this.target.name}},{key:"getValue",value:function(){return this.target.value}},{key:"getNameValue",value:function(){return{name:this.getName(),value:this.getValue()}}},{key:"getNameValueLowerCased",value:function(){return{name:this.getName(),value:this.getValue().toLowerCase()}}},{key:"getDatasetEn",value:function(){var e=this.target.dataset.en;return this.target.hasAttribute("data-en")&&"undefined"!==e?e:null}}]),e}(),ee=$,te=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={email:""},n.handleOnInput=n.handleOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(V.a)(Object(V.a)(n))),n.handleOnBlur=n.handleOnBlur.bind(Object(V.a)(Object(V.a)(n))),n.handleOnFocus=n.handleOnFocus.bind(Object(V.a)(Object(V.a)(n))),n.switchToResetPassword=n.switchToResetPassword.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user,t=e.email;if(e.isFirstLogin){this.setState({email:t});var n=document.querySelector('input[name="email"]'),a=document.querySelector('input[name="password"]');n.focus(),a.focus()}}},{key:"handleOnInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(P.a)({},t,n))}},{key:"handleOnFocus",value:function(e){new ee(e).focus()}},{key:"handleOnBlur",value:function(e){new ee(e).blur()}},{key:"switchToResetPassword",value:function(){this.props.history.push("/resetPasswordSendEmail")}},{key:"handleSubmit",value:function(){var e=this,t=this.state,n=t.email,a=t.password;this.props.loginUser({email:n,password:a},function(){e.props.history.push("/")})}},{key:"render",value:function(){var e=this.props,t=e.common,n=e.user.isFirstLogin;return r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement(function(){return n?r.a.createElement("div",null,"\u0534\u0578\u0582\u0584 \u0570\u0561\u057b\u0578\u0572\u0578\u0582\u0569\u0575\u0561\u0574\u0562 \u0563\u0580\u0561\u0576\u0581\u057e\u0565\u056c \u0565\u0584 \u056f\u0561\u0580\u0578\u0572 \u0565\u0584 \u0574\u0578\u0582\u057f\u0584 \u0563\u0585\u0580\u056e\u0565\u056c \u0570\u0561\u0574\u0561\u056f\u0561\u0580\u0563\u0589"):""},null),r.a.createElement(H.j,{className:"col-4 mt-4"},r.a.createElement(H.l,{className:n?"jump":"jumperLabel"},r.a.createElement(H.n,{for:"email"},t.email),r.a.createElement(H.m,{id:"email",name:"email",onChange:this.handleOnInput,onBlur:this.handleOnBlur,onFocus:this.handleOnFocus,value:this.state.email})),r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:"password"},t.password),r.a.createElement(H.m,{type:"password",name:"password",id:"password",onChange:this.handleOnInput,onBlur:this.handleOnBlur,onFocus:this.handleOnFocus})),r.a.createElement(H.b,{color:"link",onClick:this.switchToResetPassword},"Forgot password?"),r.a.createElement(H.b,{color:"success",onClick:this.handleSubmit},"Login")))}}]),t}(a.Component),ne=Object(d.b)(function(e){return{common:e.content.common,content:e.content.Login,loginUser:e.loginUser,user:e.user}},{loginUser:K})(te),ae=function(e){return{type:"REGISTER_SUCCESS",payload:e}},re=function(e){return{type:"REGISTER_FAIL",err:e}},ie=function(e){return function(t){fetch("/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(ae(e.user));throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),t(re(e))})}},oe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.name,a=e.type,i=e.commonProps,o=i.onInput,c=i.onBlur,s=i.onFocus,l=i.isBlurred,u=i.isInvalidMsg,m="contentName"in this.props?this.props.contentName:n;return r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:n},t[m]),r.a.createElement(H.m,{id:n,type:a,name:n,onInput:o,onFocus:s,onBlur:c,valid:l[n]&&""===u[n],invalid:l[n]&&""!==u[n]}),r.a.createElement(H.k,null,u[n]))}}]),t}(a.Component),ce=Object(d.b)(function(e){return{common:e.content.common}})(oe),se=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isInvalidMsg:{email:"",username:"",password:"",repeat_password:""},isBlurred:{email:!1,username:!1,password:!1,repeat_password:!1}},n.handleOnFocus=n.handleOnFocus.bind(Object(V.a)(Object(V.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(V.a)(Object(V.a)(n))),n.handleOnBlur=n.handleOnBlur.bind(Object(V.a)(Object(V.a)(n))),n.handleOnInput=n.handleOnInput.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleOnFocus",value:function(e){new ee(e).focus()}},{key:"handleOnBlur",value:function(e){var t=new ee(e),n=t.getNameValue(),a=n.name,r=n.value;t.blur(),this.setIsBlurredTrue(a),this.validate(a,r)}},{key:"handleOnInput",value:function(e){var t=new ee(e).getNameValue(),n=t.name,a=t.value;this.state.isBlurred[n]&&this.validate(n,a),this.setState(Object(P.a)({},n,a))}},{key:"setIsBlurredTrue",value:function(e){var t=Object(E.a)({},this.state.isBlurred);t[e]=!0,this.setState({isBlurred:t})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.validateAll()){var t=this.state,n=t.email,a=t.username,r=t.password,i=t.repeat_password;this.props.registerUser({email:n,username:a,password:r,repeat_password:i})}}},{key:"render",value:function(){var e=this.state,t=e.isInvalidMsg,n=e.isBlurred,a=this.props.userRegister,i={onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,onInput:this.handleOnInput,isBlurred:n,isInvalidMsg:t};if(a.confirmationMsgSent){return r.a.createElement(function(e){var t=e.username,n=e.email;return r.a.createElement(H.c,{className:"align-items-center"},r.a.createElement("div",{className:"col-4 d-flex flex-column align-items-center"},r.a.createElement("h1",null,"\u0532\u0561\u0580\u0587 ",t),r.a.createElement("p",{className:"text-center"},"\u0533\u0580\u0561\u0576\u0581\u0578\u0582\u0574\u0576 \u0561\u057e\u0561\u0580\u057f\u0565\u056c\u0578\u0582 \u0570\u0561\u0574\u0561\u0580 \u056d\u0576\u0564\u0580\u0582\u0574 \u0565\u0576\u0584 \u057d\u057f\u0578\u0582\u0563\u0565\u056c \u0571\u0565\u0580 ",n," \u0570\u0561\u057d\u0581\u0565\u0576 \u0587 \u0570\u0561\u057d\u057f\u0561\u057f\u0565\u056c \u0571\u0565\u0580 \u0563\u0580\u0561\u0576\u0581\u0578\u0582\u0574\u0568 \u057d\u0565\u056d\u0574\u0565\u056c\u0578\u057e \u0570\u0561\u057d\u057f\u0561\u057f\u0565\u056c \u056f\u0578\u0573\u0561\u056f\u0568")))},{username:a.username,email:a.email})}return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(H.j,{className:"col-4 mt-4"},r.a.createElement(ce,{name:"email",type:"text",commonProps:i}),r.a.createElement(ce,{name:"username",type:"text",commonProps:i}),r.a.createElement(ce,{name:"password",type:"password",commonProps:i}),r.a.createElement(ce,{name:"repeat_password",type:"password",commonProps:i}),r.a.createElement(H.b,{color:"success",onClick:this.handleSubmit},"Register")))}},{key:"validateAll",value:function(){var e,t=Object(E.a)({},this.state.isBlurred),n=[],a=Object.keys(t);a.forEach(function(a){t[a]=!0,e=document.getElementById(a),n.push({name:a,value:e.value})});var r=this.msgCreator(n);this.setState({isBlurred:t,isInvalidMsg:r});var i=!1;return a.forEach(function(e){i||""===r[e]||(i=!0)}),i}},{key:"validate",value:function(e,t){var n=this.msgCreator([{name:e,value:t.trim()}]);this.setState({isInvalidMsg:n})}},{key:"msgCreator",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(E.a)({},this.state.isInvalidMsg),a="",r="";return t.forEach(function(t){switch(a=t.name,r=t.value,n[a]="",a){case"email":n[a]=e.checkEmail(r);break;case"username":n[a]=e.checkUsername(r);break;case"password":var i=document.querySelector('input[name = "repeat_password"]');if(""===r){n[a]="Password should not be empty and most be at least 7 characters";break}if(r.length<7){n[a]="Password most be at least 7 characters";break}if(r!==i.value.trim()){n[a]="Passwords not matched",n[i.name]="Passwords not matched";break}n[i.name]="";break;case"repeat_password":var o=document.querySelector('input[name = "password"]');if(""===r){n[a]="Password should not be empty and most be at least 7 characters";break}if(r.length<7){n[a]="Password most be at least 7 characters";break}if(r!==o.value.trim()){n[a]="Passwords not matched",n[o.name]="Passwords not matched";break}n[o.name]=""}}),n}},{key:"checkEmail",value:function(e){var t="";return""===e?t="Email should not be empty and most be a correct email":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(t="Email is not correct"),t}},{key:"checkUsername",value:function(e){var t="";return""===e?t="Username should not be empty and most be at least 3 characters":e.length<3&&(t="Username most be at least 3 characters"),t}}]),t}(a.Component),le=Object(d.b)(function(e){return{userRegister:e.userRegister}},{registerUser:ie})(se),ue=le,me=function(e){return{type:"SET_LANG",payload:e}},de=function(e){return function(t){"hy"===e?h.a.locale("hy-am"):h.a.locale(e),fetch("/lang",{headers:new Headers({"Content-Language":e})}).then(function(e){return e.json()}).then(function(n){localStorage.setItem("lang",e),t(me(n))}).catch(function(e){return console.log(e)})}},pe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.getContentByLang;return r.a.createElement("ul",{className:"d-flex"},r.a.createElement(H.t,null,r.a.createElement(H.u,{className:"px-1",href:"#",onClick:function(){return e("hy")}},r.a.createElement("img",{src:n(53),height:"15px",width:"23px",alt:"arm"}))),r.a.createElement(H.t,null,r.a.createElement(H.u,{className:"px-1",href:"#",onClick:function(){return e("ru")}},r.a.createElement("img",{src:n(54),height:"15px",width:"23px",alt:"ru"}))),r.a.createElement(H.t,null,r.a.createElement(H.u,{className:"px-1",href:"#",onClick:function(){return e("en")}},r.a.createElement("img",{src:n(55),height:"15px",width:"23px",alt:"en"}))))}}]),t}(a.Component),he=Object(d.b)(null,{getContentByLang:de})(pe),ye=he,fe=["erevan","aragacotn","ararat","armavir","gexarkunik","kotayk","lori","shirak","syunik","tavush","vayoc_cor"],be=[{city:"ashtarak",region:"aragacotn"},{city:"aparan",region:"aragacotn"},{city:"talin",region:"aragacotn"},{city:"ararat",region:"ararat"},{city:"artashat",region:"ararat"},{city:"masis",region:"ararat"},{city:"vedi",region:"ararat"},{city:"armavir",region:"armavir"},{city:"vaxarshapat",region:"armavir"},{city:"mecamor",region:"armavir"},{city:"gavar",region:"gexarkunik"},{city:"jambarak",region:"gexarkunik"},{city:"martuni",region:"gexarkunik"},{city:"sevan",region:"gexarkunik"},{city:"vardenis",region:"gexarkunik"},{city:"abovyan",region:"kotayk"},{city:"byurexavan",region:"kotayk"},{city:"exvard",region:"kotayk"},{city:"nor_hajn",region:"kotayk"},{city:"charencavan",region:"kotayk"},{city:"alaverdi",region:"lori"},{city:"axtala",region:"lori"},{city:"tumanyan",region:"lori"},{city:"shamlux",region:"lori"},{city:"spitak",region:"lori"},{city:"stepanavan",region:"lori"},{city:"tashir",region:"lori"},{city:"artik",region:"shirak"},{city:"gyumri",region:"shirak"},{city:"maralik",region:"shirak"},{city:"agarak",region:"syunik"},{city:"goris",region:"syunik"},{city:"dastakert",region:"syunik"},{city:"kapan",region:"syunik"},{city:"mexri",region:"syunik"},{city:"sisian",region:"syunik"},{city:"qajaran",region:"syunik"},{city:"ayrum",region:"tavush"},{city:"berd",region:"tavush"},{city:"dilijan",region:"tavush"},{city:"ijevan",region:"tavush"},{city:"noyemberyan",region:"tavush"},{city:"exegnacor",region:"vayoc_cor"},{city:"jermuk",region:"vayoc_cor"},{city:"vayq",region:"vayoc_cor"}],ve=["katnamterq","msamterq","banjarexen","mirg","hataptux","ynkuzexen","chir_ev_charaz","pahaconer","kanachexen","tnkiner"],Ee=[{subType:"panir",type:"katnamterq"},{subType:"kat",type:"katnamterq"},{subType:"garan_mis",type:"msamterq"},{subType:"khozi_mis",type:"msamterq"},{subType:"khncor",type:"mirg"},{subType:"tanc",type:"mirg"},{subType:"ciran",type:"mirg"},{subType:"khaxox",type:"mirg"},{subType:"khncoreni",type:"tnkiner"},{subType:"saloreni",type:"tnkiner"},{subType:"tanceni",type:"tnkiner"}],Oe=function(e){return{type:"GET_SUM_OF_SUCCESS",payload:e}},ge=function(e){return{type:"GET_SUM_OF_FAIL",payload:e}},je=function(){return function(e){fetch("/getSumOf",{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.ok)return e(Oe(t));throw new Error(t.errors||"Something wrong")}).catch(function(t){console.error(t),e(ge(t))})}},ke=function(){return{type:"RESET_FILTERS"}},Se=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).regions=[],n.regions_cities=[],n.types=[],n.types_subTypes=[],n.state={regions:[],regions_cities:[],types:[],types_subTypes:[],resetBtns:{region:!1,city:!1,type:!1,subType:!1}},n.focus=n.focus.bind(Object(V.a)(Object(V.a)(n))),n.mouseOver=n.mouseOver.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.filterBy&&setTimeout(function(){e.props.getSumOfAction()},0),this.regions=fe,this.regions_cities=be,this.types=ve,this.types_subTypes=Ee,this.setState({regions:this.regions,regions_cities:this.regions_cities,types:this.types,types_subTypes:this.types_subTypes})}},{key:"mouseOver",value:function(e){var t=this;e.focus();e.parentElement.addEventListener("mouseleave",function e(n){var a=n.target,r=a.querySelector("input"),i=a.querySelector("ul");r.blur(),i.style.display="none";var o=r.name;if(!t.props.filterBy&&("city"===o||"subType"===o)){var c=Object(E.a)({},t.props.isBlurred);t.props.setIsBlurred(c,o),t.props.validate(o,r.value)}a.removeEventListener("mouseleave",e)})}},{key:"focus",value:function(e){e.parentElement.querySelector("ul").style.display="block"}},{key:"keyUp",value:function(e){var t=e.value.toLowerCase(),n=e.name;return t?this.setState({resetBtns:Object(P.a)({},n,!0)}):(this.setState({resetBtns:Object(P.a)({},n,!1)}),this.props.filterBy&&this.props.deleteFilter(n)),"region"===n?this.filterRegionOrType(t,"regions"):"city"===n?this.filterCity(t):"type"===n?this.filterRegionOrType(t,"types"):"subType"===n?this.filterSubType(t):void 0}},{key:"clickOnRegion",value:function(e){this.setInputValue(e);var t=e.dataset.en;this.filterCityByRegion(t)}},{key:"clickOnCity",value:function(e){this.setInputValue(e);var t=e.dataset.region,n=document.querySelector('input[name="region"]');n.value=this.props.content.regions[t],n.dataset.en=t;var a=new Event("input",{bubbles:!0});n.dispatchEvent(a)}},{key:"clickOnType",value:function(e){this.setInputValue(e);var t=e.dataset.en;this.filterSubTypeByType(t)}},{key:"clickOnSubType",value:function(e){this.setInputValue(e);var t=e.dataset.type,n=document.querySelector('input[name="type"]');n.value=this.props.content.types[t],n.dataset.en=t;var a=new Event("input",{bubbles:!0});n.dispatchEvent(a)}},{key:"setInputValue",value:function(e){var t=e.firstChild.data,n=e.parentElement.parentElement.querySelector("input"),a=Object(E.a)({},this.state.resetBtns);a[n.name]=!0,this.setState({resetBtns:a});var r=e.dataset.en;n.value=t,n.dataset.en=r,this.props.filterBy&&this.props.addFilter(Object(P.a)({},n.name,r));var i=new Event("input",{bubbles:!0});n.dispatchEvent(i)}},{key:"resetValue",value:function(e){var t=e.parentElement.parentElement.querySelector("input");t.value="",this.resetFilter(t.name)}},{key:"resetFilter",value:function(e){this.props.filterBy&&this.props.deleteFilter(e);var t=Object(E.a)({},this.state.resetBtns);return t[e]=!1,"region"===e?this.setState({regions:this.regions,regions_cities:this.regions_cities,resetBtns:t}):"city"===e?this.setState({regions_cities:this.regions_cities,resetBtns:t}):"type"===e?this.setState({types:this.types,types_subTypes:this.types_subTypes,resetBtns:t}):"subType"===e?this.setState({types_subTypes:this.types_subTypes,resetBtns:t}):void 0}},{key:"filterRegionOrType",value:function(e,t){var n=this.props.content[t],a=this[t].filter(function(t){return t.includes(e)||n[t].toLowerCase().includes(e)});this.setState(Object(P.a)({},t,a))}},{key:"filterCity",value:function(e){var t=this.props.content.cities,n=this.regions_cities.filter(function(n){return n.city.includes(e)||t[n.city].toLowerCase().includes(e)});this.setState({regions_cities:n})}},{key:"filterSubType",value:function(e){var t=this.props.content.subTypes,n=this.types_subTypes.filter(function(n){return n.subType.includes(e)||t[n.subType].toLowerCase().includes(e)});this.setState({types_subTypes:n})}},{key:"filterCityByRegion",value:function(e){var t=this.regions_cities.filter(function(t){return t.region===e});this.setState({regions_cities:t})}},{key:"filterSubTypeByType",value:function(e){var t=this.types_subTypes.filter(function(t){return t.type===e});this.setState({types_subTypes:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.common,i=t.sumOf,o=t.filterBy,c=t.onInput,s=t.isBlurred,l=t.isInvalidMsg,u=function(e){return o?null:s[e]&&""===l[e]},m=function(e){return o?null:s[e]&&""!==l[e]},d=function(e){var t=e.sumOfType,n=e.referer;return o?r.a.createElement("span",null,r.a.createElement(H.a,{color:"success"},t[n].proposal),r.a.createElement(H.a,{color:"danger"},t[n].demand)):""},p=function(){return r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(t){return e.resetValue(t.target)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))};return r.a.createElement("div",{className:"Filter my-4 mx-2"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("div",{className:"position-relative"},this.state.resetBtns.region?r.a.createElement(p,null):null,r.a.createElement(H.m,{name:"region",type:"text",placeholder:a.region,onMouseOver:function(t){return e.mouseOver(t.target)},onFocus:function(t){return e.focus(t.target)},onKeyUp:function(t){return e.keyUp(t.target)}}),r.a.createElement(H.o,{style:{display:"none"},className:"select"},this.state.regions.map(function(t){return r.a.createElement(H.p,{key:t,className:"d-flex justify-content-between","data-en":t,onClick:function(t){return e.clickOnRegion(t.target)}},n.regions[t],r.a.createElement(d,{sumOfType:i.region,referer:t}))}))),r.a.createElement("div",{className:"position-relative"},this.state.resetBtns.city?r.a.createElement(p,null):null,r.a.createElement(H.m,{name:"city",type:"text",placeholder:a.city,onMouseOver:function(t){return e.mouseOver(t.target)},onFocus:function(t){return e.focus(t.target)},onKeyUp:function(t){return e.keyUp(t.target)},onInput:c,valid:u("city"),invalid:m("city")}),r.a.createElement(H.k,null,o?"":l.city),r.a.createElement(H.o,{style:{display:"none"},className:"select"},this.state.regions_cities.map(function(t){return r.a.createElement(H.p,{key:t.city,className:"d-flex justify-content-between","data-en":t.city,"data-region":t.region,onClick:function(t){return e.clickOnCity(t.target)}},n.cities[t.city],r.a.createElement(d,{sumOfType:i.city,referer:t.city}))}))),r.a.createElement("div",{className:"position-relative"},this.state.resetBtns.type?r.a.createElement(p,null):null,r.a.createElement(H.m,{name:"type",type:"text",placeholder:a.type,onMouseOver:function(t){return e.mouseOver(t.target)},onFocus:function(t){return e.focus(t.target)},onKeyUp:function(t){return e.keyUp(t.target)}}),r.a.createElement(H.o,{style:{display:"none"},className:"select"},this.state.types.map(function(t){return r.a.createElement(H.p,{key:t,className:"d-flex justify-content-between","data-en":t,onClick:function(t){return e.clickOnType(t.target)}},n.types[t],r.a.createElement(d,{sumOfType:i.type,referer:t}))}))),r.a.createElement("div",{className:"position-relative"},this.state.resetBtns.subType?r.a.createElement(p,null):null,r.a.createElement(H.m,{name:"subType",type:"text",placeholder:a.subType,onMouseOver:function(t){return e.mouseOver(t.target)},onFocus:function(t){return e.focus(t.target)},onKeyUp:function(t){return e.keyUp(t.target)},onInput:c,valid:u("subType"),invalid:m("subType")}),r.a.createElement(H.k,null,o?"":l.subType),r.a.createElement(H.o,{style:{display:"none"},className:"select"},this.state.types_subTypes.map(function(t){return r.a.createElement(H.p,{key:t.subType,className:"d-flex justify-content-between","data-en":t.subType,"data-type":t.type,onClick:function(t){return e.clickOnSubType(t.target)}},n.subTypes[t.subType],r.a.createElement(d,{sumOfType:i.subType,referer:t.subType}))})))))}}]),t}(a.Component),Ne=Object(d.b)(function(e){return{content:e.content.Filter,common:e.content.common,sumOf:e.sumOf,addFilter:function(e){return e((void 0).props.addFilter)},deleteFilter:function(e){return e((void 0).props.deleteFilter)}}},{getSumOfAction:je,addFilter:function(e){return{type:"ADD_FILTER",payload:e}},deleteFilter:function(e){return{type:"DELETE_FILTER",payload:e}}})(Se),Ie=function(){return{type:"GET_PROPSALS_START_FETCHING"}},we=function(e){return{type:"GET_PROPOSALS_SUCCESS",payload:e}},Ae=function(e){return{type:"GET_PROPOSALS_FAIL",payload:e}},_e=function(){return function(e){e(Ie()),fetch("/getProposals",{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.ok)return e(we(t.proposals));throw new Error(t.errors||"Something wrong")}).catch(function(t){console.error(t),e(Ae(t))})}},Te=n(16),Ce=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.date,t=h()(e).format("DD MMMM YYYY");return r.a.createElement("span",null,t)}}]),t}(a.Component),Fe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.date;return r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("small",null,t),r.a.createElement(Ce,{date:n}))}}]),t}(a.Component),De=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.cFF,a=e.subType,i=e.unit,o=e.price;return r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("span",null,n.subTypes[a]),r.a.createElement("span",null,r.a.createElement("small",{className:"text-muted"},"1 ",t.units[i]," "),o,r.a.createElement("small",{className:"text-muted"}," dram")))}}]),t}(a.Component),Le=Object(d.b)(function(e){return{cFF:e.content.Filter,common:e.content.common}})(De),Be=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.cFF,a=e.city;return r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("span",null,n.cities[a]),r.a.createElement("small",{className:"text-muted"},t.city))}}]),t}(a.Component),Pe=Object(d.b)(function(e){return{common:e.content.common,cFF:e.content.Filter}})(Be),xe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="className"in this.props?this.props.className:"";return r.a.createElement("div",{className:"d-flex align-items-center",style:{minHeight:"100%"}},r.a.createElement("div",{className:"vertical_divider ".concat(e)}))}}]),t}(a.Component),Me=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.plan_to_have_quantity,a=e.plan_to_have_price,i=e.year,o=e.month,c=e.day,s=o?h()().localeData().months()[o-1]:"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,null),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("small",null,n),r.a.createElement("small",{className:"text-muted"},t.quantity)),r.a.createElement(xe,{className:"mx-3"}),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("small",null,a),r.a.createElement("small",{className:"text-muted"},t.price)),r.a.createElement(xe,{className:"mx-3"}),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("small",null,"".concat(c," ").concat(s," ").concat(i)),r.a.createElement("small",{className:"text-muted"},t.when))),r.a.createElement("small",{className:"text-muted"},"Planavorum em unenal")))}}]),t}(a.Component),Re=Object(d.b)(function(e){return{common:e.content.common}})(Me),Ge=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.plan_to_have_quantity,a=e.plan_to_have_price,i=e.continuousType,o=e.frequencyNum,c=t[i].toLowerCase(),s=localStorage.lang;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,null),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("small",null,n),r.a.createElement("small",{className:"text-muted"},t.quantity)),r.a.createElement(xe,{className:"mx-3"}),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("small",null,a),r.a.createElement("small",{className:"text-muted"},t.price)),r.a.createElement(xe,{className:"mx-3"}),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement(function(){var e="1"===o?"ru"===s?"week"===i?"\u041a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e":"\u041a\u0430\u0436\u0434\u044b\u0439 ".concat(c):"en"===s?"Every ".concat(c):"\u0531\u0574\u0565\u0576 ".concat(c):"ru"===s?"\u041a\u0430\u0436\u0434\u044b\u0435 ".concat(o,"day"===i?" \u0434\u043d\u044f":"week"===i?" \u043d\u0435\u0434\u0435\u043b\u0438":" \u043c\u0435\u0441\u044f\u0446\u0430"):"en"===s?"Every ".concat(o," ").concat(c,"s"):"\u0531\u0574\u0565\u0576 ".concat(o," ").concat(c,"\u0568 \u0574\u0565\u056f");return r.a.createElement("small",null,e)},null),r.a.createElement("small",{className:"text-muted"},t.frequency))),r.a.createElement("small",{className:"text-muted"},"Planavorum em unenal")))}}]),t}(a.Component),Ue=Object(d.b)(function(e){return{common:e.content.common}})(Ge),qe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.proposal,a=n.is_plan_to_have,i=n.oneTime,o=n.continuous,c=n.plan_to_have_quantity,s=n.plan_to_have_price;return r.a.createElement("div",{className:"d-flex justify-content-around",style:{height:"57px"}},r.a.createElement(Pe,{city:t.city}),r.a.createElement(xe,null),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("span",null,t.available_quantity),r.a.createElement("small",{className:"text-muted"},"arka qanak")),r.a.createElement(function(){if(a){if(i){var e=t.year,n=t.month,l="day"in t?t.day:"";return r.a.createElement(Re,{plan_to_have_quantity:c,plan_to_have_price:s,year:e,month:n,day:l})}if(o){var u=t.continuousType,m=t.frequencyNum;return r.a.createElement(Ue,{plan_to_have_quantity:c,plan_to_have_price:s,continuousType:u,frequencyNum:m})}}return null},null))}}]),t}(a.Component),Ye=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.proposal,t=e.subType,n=e.price,a=e.unit,i=e.comment,o=e.date,c=Object(Te.a)(e,["subType","price","unit","comment","date"]);return r.a.createElement(H.c,{className:"shadow"},r.a.createElement(H.d,null,r.a.createElement(Le,{subType:t,unit:a,price:n}),r.a.createElement("hr",null),r.a.createElement(qe,{proposal:c}),r.a.createElement("hr",null),r.a.createElement(Fe,{comment:i,date:o})))}}]),t}(a.Component),Ve=n(22),Ze=Object(Ve.createSelector)(function(e){return e.proposals.proposals},function(e){return e.filterBy},function(e,t){return e.filter(function(e){return!t.region||e.region===t.region}).filter(function(e){return!t.city||e.city===t.city}).filter(function(e){return!t.type||e.type===t.type}).filter(function(e){return!t.subType||e.subType===t.subType})}),We=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getProposalsAction()}},{key:"render",value:function(){var e=this.props,t=e.proposals;return e.isFetchingGet?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,t.map(function(e,t){return r.a.createElement("div",{className:"Proposal mb-5",key:t},r.a.createElement(Ye,{proposal:e}))}))}}]),t}(a.Component),ze=Object(d.b)(function(e){return{proposals:Ze(e),isFetchingGet:e.proposals.isFetchingGet}},{getProposalsAction:_e})(We),Je=function(){return{type:"GET_DEMANDS_START_FETCHING"}},He=function(e){return{type:"GET_DEMANDS_SUCCESS",payload:e}},Qe=function(e){return{type:"GET_DEMANDS_FAIL",payload:e}},Xe=function(){return function(e){e(Je()),fetch("/getDemands",{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.ok)return e(He(t.demands));throw new Error(t.errors||"Something wrong")}).catch(function(t){console.error(t),e(Qe(t))})}},Ke=Object(Ve.createSelector)(function(e){return e.demands.demands},function(e){return e.filterBy},function(e,t){return e.filter(function(e){return!t.region||e.region===t.region}).filter(function(e){return!t.city||e.city===t.city}).filter(function(e){return!t.type||e.type===t.type}).filter(function(e){return!t.subType||e.subType===t.subType})}),$e=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.quantity;return r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("span",null,n),r.a.createElement("small",{className:"text-muted"},t))}}]),t}(a.Component),et=Object(d.b)(function(e){return{content:e.content.common.quantity}})($e),tt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.year,a=e.month,i=e.day,o=e.quantity,c=a?h()().localeData().months()[a-1]:"";return r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(et,{quantity:o}),r.a.createElement("div",{className:"d-flex align-items-center position-relative",style:{minHeight:"100%",whiteSpace:"nowrap"}},r.a.createElement("small",{className:"text-muted position-absolute",style:{top:"100%",left:"-100%"}},t.oneTime),r.a.createElement("div",{className:"vertical_divider mx-3"})),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("small",null,"".concat(i," ").concat(c," ").concat(n)),r.a.createElement("small",{className:"text-muted"},t.when)))))}}]),t}(a.Component),nt=Object(d.b)(function(e){return{common:e.content.common}})(tt),at=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.continuousType,a=e.frequencyNum,i=e.quantity,o=t[n].toLowerCase(),c=localStorage.lang;return r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(et,{quantity:i}),r.a.createElement("div",{className:"d-flex align-items-center position-relative",style:{minHeight:"100%"}},r.a.createElement("small",{className:"text-muted position-absolute",style:{top:"100%",left:"-100%"}},t.continuous),r.a.createElement("div",{className:"vertical_divider mx-3"})),r.a.createElement("div",{className:"d-flex flex-column justify-content-between align-items-center"},r.a.createElement(function(){var e="1"===a?"ru"===c?"week"===n?"\u041a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e":"\u041a\u0430\u0436\u0434\u044b\u0439 ".concat(o):"en"===c?"Every ".concat(o):"\u0531\u0574\u0565\u0576 ".concat(o):"ru"===c?"\u041a\u0430\u0436\u0434\u044b\u0435 ".concat(a,"day"===n?" \u0434\u043d\u044f":"week"===n?" \u043d\u0435\u0434\u0435\u043b\u0438":" \u043c\u0435\u0441\u044f\u0446\u0430"):"en"===c?"Every ".concat(a," ").concat(o,"s"):"\u0531\u0574\u0565\u0576 ".concat(a," ").concat(o,"\u0568 \u0574\u0565\u056f");return r.a.createElement("small",null,e)},null),r.a.createElement("small",{className:"text-muted"},t.frequency)))))}}]),t}(a.Component),rt=Object(d.b)(function(e){return{common:e.content.common}})(at),it=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.demand,n=e.demand,a=n.quantity,i=n.oneTime,o=n.is_mark_the_date,c=n.continuous,s=n.city;return r.a.createElement("div",{className:"d-flex justify-content-around",style:{height:"57px"}},r.a.createElement(Pe,{city:s}),r.a.createElement(xe,null),r.a.createElement(function(){if(i&&o){var e=t.year,n=t.month,s="day"in t?t.day:"";return r.a.createElement(nt,{year:e,month:n,day:s,quantity:a})}if(c){var l=t.continuousType,u=t.frequencyNum;return r.a.createElement(rt,{continuousType:l,frequencyNum:u,quantity:a})}return r.a.createElement(et,{quantity:a})},null))}}]),t}(a.Component),ot=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.demand,t=e.subType,n=e.price,a=e.unit,i=e.comment,o=e.date,c=Object(Te.a)(e,["subType","price","unit","comment","date"]);return r.a.createElement(H.c,{className:"shadow"},r.a.createElement(H.d,null,r.a.createElement(Le,{subType:t,unit:a,price:n}),r.a.createElement("hr",null),r.a.createElement(it,{demand:c}),r.a.createElement("hr",null),r.a.createElement(Fe,{comment:i,date:o})))}}]),t}(a.Component),ct=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getDemandsAction()}},{key:"render",value:function(){var e=this.props,t=e.demands;return e.isFetchingGet?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,t.map(function(e,t){return r.a.createElement("div",{className:"Demand mb-5",key:t},r.a.createElement(ot,{demand:e}))}))}}]),t}(a.Component),st=Object(d.b)(function(e){return{demands:Ke(e),isFetchingGet:e.demands.isFetchingGet}},{getDemandsAction:Xe})(ct),lt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.props.resetFilters()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ne,{filterBy:!0}),r.a.createElement("div",{className:"mt-4 d-flex w-100"},r.a.createElement("div",{className:"proposal_demand_container"},r.a.createElement(ze,null)),r.a.createElement("div",{className:"proposal_demand_container"},r.a.createElement(st,null))))}}]),t}(a.Component),ut=Object(d.b)(function(e){return{resetFilters:function(e){return e(ke)}}},{resetFilters:ke})(lt),mt=function(e,t){return function(n){var a=localStorage.getItem("access_token");fetch("/addNewProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(),n(ht(e));throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),n(yt(e))})}},dt=function(){return function(e){e(pt())}},pt=function(){return{type:"SAVE_PROPOSAL_START_FETCHING"}},ht=function(e){return{type:"SAVE_PROPOSAL_SUCCESS",payload:e}},yt=function(e){return{type:"SAVE_PROPOSAL_FAIL",payload:e}},ft=(n(56),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.common,n=e.cFF,a=e.name,i=e.list,o=e.type,c=e.listName,s=e.match,l=e.onInput,u=e.onBlur,m=e.onFocus,d=e.onClick,p=e.isBlurred,h=e.isInvalidMsg;return r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:a},t[a]),r.a.createElement(H.m,{id:a,type:o,name:a,onFocus:m,onInput:l,onBlur:u,valid:p[a]&&""===h[a],invalid:p[a]&&""!==h[a]}),r.a.createElement(H.k,null,h[a]),r.a.createElement(H.o,{className:"d-none select"},i.map(function(e){return r.a.createElement(H.p,{key:e[a],className:"d-flex justify-content-between","data-en":e[a],"data-match":e[s],onClick:d},n[c][e[a]])})))}}]),t}(a.Component)),bt=Object(d.b)(function(e){return{common:e.content.common,cFF:e.content.Filter}})(ft),vt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).list=[],n.childList=[],n.state={list:[],childList:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.list=this.props.list,this.childList=this.props.childList,this.setState({list:this.list,childList:this.childList})}},{key:"onInputFilterOwnAndChildLists",value:function(e){var t=new ee(e).getNameValueLowerCased(),n=t.name,a=t.value,r="".concat(n,"s"),i=this.props.cFF[r],o=!0,c=!1,s="",l=this.list.filter(function(e){return s=i[e].toLowerCase(),o&&s===a&&(o=!1,c=e),e.includes(a)||s.includes(a)});if(this.setState({list:l}),c){var u=this.childList.filter(function(e){return e[n]===c});this.childList=u,this.setState({childList:u})}else this.childList=this.props.childList,this.setState({childList:this.childList})}},{key:"onInputFilterOwnList",value:function(e){var t=this,n=new ee(e).getNameValueLowerCased(),a=n.name,r=n.value,i=this.props.cFF,o=this.props.childListName,c=!0,s="",l=this.childList.filter(function(e){if(s=i[o][e[a]].toLowerCase(),c&&s===r){c=!1;var n=Object.keys(e);t.props.setNameValue(a,e[a]),t.props.setNameValue(n[1],e[n[1]])}return e[a].includes(r)||s.includes(r)});this.setState({childList:l})}},{key:"render",value:function(){var e=this,t=this.props,n=t.common,i=t.cFF,o=t.name,c=t.type,s=t.listName,l=t.childName,u=t.childListName,m=t.onInput,d=t.onBlur,p=t.onFocus,h=t.onClick,y=t.isBlurred,f=t.isInvalidMsg;return r.a.createElement(a.Fragment,null,r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:o},n[o]),r.a.createElement(H.m,{id:o,type:c,name:o,onFocus:p,onInput:function(t){m(t),e.onInputFilterOwnAndChildLists(t)},onBlur:d}),r.a.createElement(H.o,{className:"d-none select"},this.state.list.map(function(e){return r.a.createElement(H.p,{key:e,className:"d-flex justify-content-between","data-en":e,onClick:h},i[s][e])}))),r.a.createElement(bt,{name:l,type:c,onFocus:p,onClick:h,onBlur:d,onInput:function(t){m(t),e.onInputFilterOwnList(t)},list:this.state.childList,listName:u,isBlurred:y,isInvalidMsg:f,match:o}))}}]),t}(a.Component),Et=Object(d.b)(function(e){return{common:e.content.common,cFF:e.content.Filter}})(vt),Ot=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onFocus,n=e.onClick,a=e.onBlur,i=e.onInput,o=e.setNameValue,c=e.isBlurred,s=e.isInvalidMsg;return r.a.createElement("div",{className:"Filter my-4 d-flex justify-content-around"},r.a.createElement(Et,{name:"region",type:"text",onFocus:t,onClick:n,onBlur:a,onInput:i,setNameValue:o,list:fe,listName:"regions",isBlurred:c,isInvalidMsg:s,childName:"city",childList:be,childListName:"cities"}),r.a.createElement(Et,{name:"type",type:"text",onFocus:t,onClick:n,onBlur:a,onInput:i,setNameValue:o,list:ve,listName:"types",isBlurred:c,isInvalidMsg:s,childName:"subType",childList:Ee,childListName:"subTypes"}))}}]),t}(a.Component),gt=["kg","hat","gram","tonna"],jt=n(28),kt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).e=e,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"focus",value:function(){var e=this;Object(jt.a)(Object(u.a)(t.prototype),"focus",this).call(this),this.getUl().classList.remove("d-none");this.e.target.parentElement.addEventListener("mouseleave",function n(a){var r=a.target,i=r.querySelector("input");r.querySelector("ul").classList.add("d-none"),r.removeEventListener("mouseleave",n),i.addEventListener("blur",Object(jt.a)(Object(u.a)(t.prototype),"blur",e).call(e)),i.blur()})}},{key:"getUl",value:function(){return this.e.target.parentElement.querySelector("ul")}}]),t}(ee),St=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).list=[],n.state={list:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){for(var e=(new Date).getFullYear(),t=e;t<e+31;t++)this.list.push(t);this.setState({list:this.list})}},{key:"onInputFilterList",value:function(e){var t=new ee(e).getValue(),n=this.list.filter(function(e){return String(e).includes(t)});this.setState({list:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.common,a=t.commonProps,i=a.onFocus,o=a.onBlur,c=a.onInput,s=a.onClick,l=a.isBlurred,u=a.isInvalidMsg;return r.a.createElement(H.l,{className:"jumperLabel mr-5"},r.a.createElement(H.n,{for:"year"},n.year),r.a.createElement(H.m,{id:"year",type:"text",name:"year",onFocus:i,onInput:function(t){c(t),e.onInputFilterList(t)},onBlur:o,valid:l.year&&""===u.year,invalid:l.year&&""!==u.year}),r.a.createElement(H.k,null,u.year),r.a.createElement(H.o,{className:"d-none select"},this.state.list.map(function(e){return r.a.createElement(H.p,{key:e,onClick:s},e)})))}}]),t}(a.Component),Nt=Object(d.b)(function(e){return{common:e.content.common}})(St),It=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).list=[],n.state={list:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.list=h()().localeData().months(),this.setState({list:this.list})}},{key:"onInputFilterList",value:function(e){var t=this,n=new ee(e).getNameValue(),a=n.name,r=n.value,i=!0,o="",c=this.list.filter(function(e,n){return o=e.toLowerCase(),(i&&o===r||String(n+1)===r)&&(i=!1,t.props.commonProps.setNameValue(a,n+1)),String(n+1)===r||o.includes(r)});this.setState({list:c})}},{key:"render",value:function(){var e=this,t=this.props,n=t.common,a=t.commonProps,i=a.onFocus,o=a.onBlur,c=a.onInput,s=a.onClick,l=a.isBlurred,u=a.isInvalidMsg;return r.a.createElement(H.l,{className:"jumperLabel mr-5"},r.a.createElement(H.n,{for:"month"},n.month),r.a.createElement(H.m,{id:"month",type:"text",name:"month",onFocus:i,onInput:function(t){c(t),e.onInputFilterList(t)},onBlur:o,valid:l.month&&""===u.month,invalid:l.month&&""!==u.month}),r.a.createElement(H.k,null,u.month),r.a.createElement(H.o,{className:"d-none select"},this.state.list.map(function(e,t){return r.a.createElement(H.p,{key:t,"data-en":t+1,onClick:s},e)})))}}]),t}(a.Component),wt=Object(d.b)(function(e){return{common:e.content.common}})(It),At=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={lastDay:31},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.year,n=e.month;if(t&&n){var a=h()("".concat(t,"-").concat(n),"YYYY-MM").daysInMonth();this.setState({lastDay:a})}}},{key:"generateDays",value:function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t}},{key:"render",value:function(){var e=this.props,t=e.common,n=e.commonProps,a=n.onFocus,i=n.onBlur,o=n.onInput,c=n.onClick,s=this.generateDays(this.state.lastDay);return r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:"day"},t.day),r.a.createElement(H.m,{id:"day",type:"text",name:"day",onFocus:a,onInput:o,onBlur:i}),r.a.createElement(H.o,{className:"d-none select"},s.map(function(e){return r.a.createElement(H.p,{key:e,onClick:c},e)})))}}]),t}(a.Component),_t=Object(d.b)(function(e){return{common:e.content.common}})(At),Tt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).frequencyNums=[],n.state={lastNumber:6},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=6,n=e.continuousType;"week"===n?t=3:"month"===n&&(t=12),this.setState({lastNumber:t})}},{key:"generateFrequencyNums",value:function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t}},{key:"render",value:function(){var e=this.props,t=e.common,n=e.onClickOnRadioContinuousType,a=e.continuousType,i=e.commonProps,o=i.onFocus,c=i.onBlur,s=i.onInput,l=i.onClick,u=i.isBlurred,m=i.isInvalidMsg,d=this.generateFrequencyNums(this.state.lastNumber);return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.l,{className:"d-flex"},r.a.createElement(H.l,{check:!0,className:"mr-5"},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"continuous",value:"day",defaultChecked:"true",onClick:n}),t.day)),r.a.createElement(H.l,{check:!0,className:"mr-5"},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"continuous",value:"week",onClick:n}),t.week)),r.a.createElement(H.l,{check:!0},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"continuous",value:"month",onClick:n}),t.month))),r.a.createElement(H.l,{className:"jumperLabel",style:{maxWidth:"30%"}},r.a.createElement(H.n,{for:"frequencyNum"},t[a]),r.a.createElement(H.m,{id:"frequencyNum",type:"text",name:"frequencyNum",onFocus:o,onInput:s,onBlur:c,valid:u.frequencyNum&&""===m.frequencyNum,invalid:u.frequencyNum&&""!==m.frequencyNum}),r.a.createElement(H.k,null,m.frequencyNum),r.a.createElement(H.o,{className:"d-none select"},d.map(function(e){return r.a.createElement(H.p,{key:e,onClick:l},e)}))))}}]),t}(a.Component),Ct=Object(d.b)(function(e){return{common:e.content.common}})(Tt),Ft=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).list=[],n.state={list:[]},n.onInputFilterList=n.onInputFilterList.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.list=this.props.list,this.setState({list:this.list})}},{key:"onInputFilterList",value:function(e){var t=this,n=new ee(e).getNameValue(),a=n.name,r=n.value,i="".concat(a,"s"),o=this.props.common[i],c=!0,s="",l=this.list.filter(function(e){return s=o[e].toLowerCase(),c&&s===r&&(c=!1,t.props.commonProps.setNameValue(a,e)),e.includes(r)||s.includes(r)});this.setState({list:l})}},{key:"render",value:function(){var e=this,t=this.props,n=t.common,a=t.name,i=t.type,o=t.listName,c=t.commonProps,s=c.onInput,l=c.onBlur,u=c.onFocus,m=c.onClick,d=c.isBlurred,p=c.isInvalidMsg;return r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:a},n[a]),r.a.createElement(H.m,{id:a,type:i,name:a,onFocus:u,onInput:function(t){s(t),e.onInputFilterList(t)},onBlur:l,valid:d[a]&&""===p[a],invalid:d[a]&&""!==p[a]}),r.a.createElement(H.k,null,p[a]),r.a.createElement(H.o,{className:"d-none select"},this.state.list.map(function(e){return r.a.createElement(H.p,{key:e,"data-en":e,onClick:m},n[o][e])})))}}]),t}(a.Component),Dt=Object(d.b)(function(e){return{common:e.content.common}})(Ft),Lt=function(){function e(t){Object(c.a)(this,e),this.target=t.target}return Object(s.a)(e,[{key:"click",value:function(){var e=this.getInput();e.dataset.en=this.target.dataset.en,e.value=this.target.innerText;var t=new Event("input",{bubbles:!0});e.dispatchEvent(t)}},{key:"getInput",value:function(){return this.target.parentElement.parentElement.querySelector("input")}}]),e}(),Bt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).units=gt,n.state={email:"",price:"",unit:"",available_quantity:"",phone:"",comment:"",plan_to_have_quantity:"",plan_to_have_price:"",city:"",subType:"",year:"",month:"",day:"",is_plan_to_have:!1,oneTime:!0,continuous:!1,continuousType:"day",frequencyNum:"",isBlurred:{city:!1,subType:!1,price:!1,unit:!1,available_quantity:!1,email:!1,phone:!1,comment:!1},isInvalidMsg:{city:"",subType:"",price:"",unit:"",available_quantity:"",email:"",phone:"",comment:""}},n.handleFocusOnInput=n.handleFocusOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleBlurOnInput=n.handleBlurOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleInputOnInput=n.handleInputOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleFocusOnDropdownInput=n.handleFocusOnDropdownInput.bind(Object(V.a)(Object(V.a)(n))),n.handleClickOnDropdownListItem=n.handleClickOnDropdownListItem.bind(Object(V.a)(Object(V.a)(n))),n.handleBlurOnDropdownListItem=n.handleBlurOnDropdownListItem.bind(Object(V.a)(Object(V.a)(n))),n.toggleIsPlanToHave=n.toggleIsPlanToHave.bind(Object(V.a)(Object(V.a)(n))),n.clickOnRadio=n.clickOnRadio.bind(Object(V.a)(Object(V.a)(n))),n.clickOnRadioContinuousType=n.clickOnRadioContinuousType.bind(Object(V.a)(Object(V.a)(n))),n.validate=n.validate.bind(Object(V.a)(Object(V.a)(n))),n.setNameValue=n.setNameValue.bind(Object(V.a)(Object(V.a)(n))),n.onSubmit=n.onSubmit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.editMode){var t=function(e){var t=e.parentElement;t.classList.add("jump"),t.classList.remove("jumpCancel")},n=function(e,t){t&&N.push({name:e,value:t})},a=this.props.proposal,r=a.price,i=a.unit,o=a.available_quantity,c=a.email?a.email:"",s=a.phone?a.phone:"",l=a.comment?a.comment:"",u=a.is_plan_to_have?a.plan_to_have_quantity:"",m=a.is_plan_to_have?a.plan_to_have_price:"",d=a.is_plan_to_have&&a.oneTime?a.year:"",p=a.is_plan_to_have&&a.oneTime?a.month:"",h=a.is_plan_to_have&&a.oneTime&&a.day?a.day:"",y=a.region,f=a.city,b=a.type,v=a.is_plan_to_have,E=a.subType,O=a.oneTime,g=a.continuous,j=a.continuous?a.continuousType:"day",k=a.continuous?a.frequencyNum:"";this.setState({price:r,unit:i,available_quantity:o,email:c,phone:s,comment:l,year:d,month:p,day:h,region:y,city:f,type:b,subType:E,is_plan_to_have:v,oneTime:O,continuous:g,continuousType:j,frequencyNum:k,plan_to_have_quantity:u,plan_to_have_price:m,date:a.date,_id:a._id,user_id:a.user_id});var S=document.querySelector("form.add_proposal"),N=[{name:"price",value:r},{name:"available_quantity",value:o}];n("email",c),n("phone",s),n("comment",l),n("year",d),n("month",p),n("day",h),n("frequencyNum",k),n("plan_to_have_quantity",u),n("plan_to_have_price",m),function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){var n=S.querySelector("#".concat(e.name));n.value=[e.value],t(n)})}(N);!function(n){n.forEach(function(n){var a=S.querySelector("#".concat(n.name));a.dataset.en=n.value,a.value=e.props.cFF[n.listName][n.value],t(a)})}([{name:"region",listName:"regions",value:y},{name:"city",listName:"cities",value:f},{name:"type",listName:"types",value:b},{name:"subType",listName:"subTypes",value:E}]);var I=S.querySelector("#unit");I.dataset.en=i,I.value=this.props.common.units[i],t(I),v&&(S.querySelector("#is_plan_to_have").checked=!0,g&&(S.querySelector('input[value="continuous"]').checked=!0,"day"===j?S.querySelector('input[value="day"]').checked=!0:"week"===j?S.querySelector('input[value="week"]').checked=!0:S.querySelector('input[value="month"]').checked=!0))}}},{key:"clickOnRadio",value:function(e){var t=e.target.value;if(!this.state[t]){var n=Object(E.a)({},this.state.isBlurred),a=Object(E.a)({},this.state.isInvalidMsg);"continuous"===t?(delete n.year,delete n.month,delete a.year,delete a.month,n.frequencyNum=!1,a.frequencyNum="",this.setState({oneTime:!1,continuous:!0,isBlurred:n,isInvalidMsg:a})):(delete n.frequencyNum,delete a.frequencyNum,n.year=!1,n.month=!1,a.year="",a.month="",this.setState({oneTime:!0,continuous:!1,isBlurred:n,isInvalidMsg:a}))}}},{key:"clickOnRadioContinuousType",value:function(e){var t=e.target.value;this.setState({continuousType:t})}},{key:"toggleIsPlanToHave",value:function(){var e=Object(E.a)({},this.state.isBlurred),t=Object(E.a)({},this.state.isInvalidMsg);this.state.is_plan_to_have?(delete e.plan_to_have_price,delete e.plan_to_have_quantity,delete t.plan_to_have_price,delete t.plan_to_have_quantity,delete e.year,delete e.month,delete t.year,delete t.month,delete e.frequencyNum,delete t.frequencyNum,this.setState({is_plan_to_have:!1,isBlurred:e,isInvalidMsg:t})):(e.plan_to_have_price=!1,e.plan_to_have_quantity=!1,t.plan_to_have_price="",t.plan_to_have_quantity="",this.state.oneTime?(e.year=!1,e.month=!1,t.year="",t.month=""):(e.frequencyNum=!1,t.frequencyNum=""),this.setState({is_plan_to_have:!0,isBlurred:e,isInvalidMsg:t}))}},{key:"handleFocusOnInput",value:function(e){new ee(e).focus()}},{key:"handleBlurOnInput",value:function(e){var t=new ee(e);t.blur();var n=t.getNameValue(),a=n.name,r=n.value;this.setIsBlurredTrue(a),this.validate(a,r)}},{key:"handleInputOnInput",value:function(e){var t=new ee(e),n=t.getNameValue(),a=n.name,r=n.value,i=t.getDatasetEn();this.state.isBlurred[a]&&this.validate(a,r),this.setNameValue(a,i||r)}},{key:"handleFocusOnDropdownInput",value:function(e){new kt(e).focus()}},{key:"handleClickOnDropdownListItem",value:function(e){var t=new Lt(e);t.click();var n=t.getInput();this.setIsInvalidMsgByNameToEmpty(n.name)}},{key:"handleBlurOnDropdownListItem",value:function(e){var t=new ee(e);if(t.checkListIsClosed()){var n=t.getNameValue(),a=n.name,r=n.value;this.setIsBlurredTrue(a),this.validate(a,r)}}},{key:"onSubmit",value:function(e){if(e.preventDefault(),!this.validateAll()){var t=this.state,n=(t.isBlurred,t.isInvalidMsg,Object(Te.a)(t,["isBlurred","isInvalidMsg"]));this.props.submit(n)}}},{key:"setIsBlurredTrue",value:function(e){var t=Object(E.a)({},this.state.isBlurred);t[e]=!0,this.setState({isBlurred:t})}},{key:"setIsInvalidMsgByNameToEmpty",value:function(e){var t=Object(E.a)({},this.state.isInvalidMsg);t[e]="",this.setState({isInvalidMsg:t})}},{key:"setNameValue",value:function(e,t){this.setState(Object(P.a)({},e,t))}},{key:"render",value:function(){var e=this.props,t=e.common,n=e.isFetchingAddNew,a=this.state,i=a.isInvalidMsg,o=a.isBlurred,c=Object(Te.a)(a,["isInvalidMsg","isBlurred"]),s={onFocus:this.handleFocusOnInput,onBlur:this.handleBlurOnInput,onInput:this.handleInputOnInput,isBlurred:o,isInvalidMsg:i},l={onFocus:this.handleFocusOnDropdownInput,onClick:this.handleClickOnDropdownListItem,onBlur:this.handleBlurOnDropdownListItem,onInput:this.handleInputOnInput,setNameValue:this.setNameValue,isBlurred:o,isInvalidMsg:i};return r.a.createElement(H.j,{className:"add_proposal"},r.a.createElement(Ot,{onFocus:this.handleFocusOnDropdownInput,onClick:this.handleClickOnDropdownListItem,onBlur:this.handleBlurOnDropdownListItem,onInput:this.handleInputOnInput,setNameValue:this.setNameValue,isBlurred:o,isInvalidMsg:i}),r.a.createElement("div",{className:"mt-4 d-flex justify-content-around"},r.a.createElement("div",{className:"position-relative w-50"},r.a.createElement("div",{className:"Proposal proposal_demand_container position-fixed"},r.a.createElement(Ye,{proposal:c}))),r.a.createElement("div",{className:"w-50"},r.a.createElement(H.e,{className:"mx-auto my-4"},r.a.createElement(ce,{name:"price",type:"number",commonProps:s}),r.a.createElement(Dt,{name:"unit",type:"text",commonProps:l,list:gt,listName:"units"}),r.a.createElement(ce,{name:"available_quantity",type:"number",commonProps:s}),r.a.createElement(H.l,{check:!0,className:"mb-3"},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{id:"is_plan_to_have",type:"checkbox",onChange:this.toggleIsPlanToHave})," ",t.plan_to_have)),r.a.createElement(H.f,{isOpen:this.state.is_plan_to_have},r.a.createElement(ce,{name:"plan_to_have_quantity",type:"number",contentName:"quantity",commonProps:s}),r.a.createElement(ce,{name:"plan_to_have_price",type:"number",contentName:"price",commonProps:s}),r.a.createElement(H.l,{className:"d-flex"},r.a.createElement(H.l,{check:!0,className:"mr-5"},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"plan_to_have_radio",value:"oneTime",defaultChecked:"true",onClick:this.clickOnRadio}),t.oneTime)),r.a.createElement(H.l,{check:!0},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"plan_to_have_radio",value:"continuous",onClick:this.clickOnRadio}),t.continuous))),r.a.createElement(H.l,{className:this.state.oneTime?"d-flex":"d-none"},r.a.createElement(Nt,{commonProps:l}),r.a.createElement(wt,{commonProps:l}),r.a.createElement(_t,{commonProps:l,year:this.state.year,month:this.state.month})),r.a.createElement(H.l,{className:this.state.continuous?"":"d-none"},r.a.createElement(Ct,{commonProps:l,onClickOnRadioContinuousType:this.clickOnRadioContinuousType,continuousType:this.state.continuousType}))),r.a.createElement(ce,{name:"email",type:"text",commonProps:s}),r.a.createElement(ce,{name:"phone",type:"text",commonProps:s}),r.a.createElement(ce,{name:"comment",type:"textarea",commonProps:s}),r.a.createElement(H.b,{disabled:n,onClick:this.onSubmit},t.add)))))}},{key:"validate",value:function(e,t){var n=this.msgCreator([{name:e,value:t}]);this.setState({isInvalidMsg:n})}},{key:"validateAll",value:function(){var e,t=Object(E.a)({},this.state.isBlurred),n=[],a=Object.keys(t);a.forEach(function(a){t[a]=!0,e=document.getElementById(a),n.push({name:a,value:e.value})});var r=this.msgCreator(n);this.setState({isBlurred:t,isInvalidMsg:r});var i=!1;return a.forEach(function(e){i||""===r[e]||(i=!0)}),i}},{key:"msgCreator",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(E.a)({},this.state.isInvalidMsg),a=Object(E.a)({},this.state.isBlurred),r="",i="",o="",c="";return t.forEach(function(t){switch(o=t.name,c=t.value.trim().toLowerCase(),o){case"city":n[o]=e.checkCity(c);break;case"subType":n[o]=e.checkSubType(c);break;case"price":n[o]=e.checkPrice(c);break;case"unit":n[o]=e.checkUnit(c);break;case"available_quantity":n[o]=e.checkAvailableQuantity(c);break;case"email":var s=document.querySelector('input[name="phone"]');r=e.checkEmail(c),i=e.checkPhone(s.value),""===r||""===i?(n.phone="",n[o]=""):(n[o]=r,a.phone=!0,n.phone="Phone or Email should not be empty");break;case"phone":var l=document.querySelector('input[name="email"]');i=e.checkPhone(c),r=e.checkEmail(l.value),""===i||""===r?(n[o]="",n.email=""):(n[o]=i,n.email="Email or Phone should not be empty");break;case"comment":n[o]=e.checkComment(c);break;case"plan_to_have_quantity":n[o]=e.checkQuantity(c);break;case"plan_to_have_price":n[o]=e.checkPrice(c);break;case"frequencyNum":n[o]=e.checkFrequencyNum(c);break;case"month":n[o]=e.checkMonth(c);break;case"year":n[o]=e.checkYear(c)}}),n}},{key:"checkCity",value:function(e){var t="";return""===e?t="City field most be chose from on of the opened list above":(-1===Object.values(this.props.cFF.cities).map(function(e){return e.toLowerCase()}).indexOf(e)&&(t="City field most be chose from on of the opened list above"),t)}},{key:"checkSubType",value:function(e){var t="";return""===e?t="subType field most be chose from on of the opened list above":(-1===Object.values(this.props.cFF.subTypes).map(function(e){return e.toLowerCase()}).indexOf(e)&&(t="subType field most be chose from on of the opened list above"),t)}},{key:"checkUnit",value:function(e){var t="";return""===e&&(t="Unit should not be empty and most be chose from on of the opened list above"),-1===Object.values(this.props.common.units).indexOf(e)&&(t="Unit most be chose from on of the opened list above"),t}},{key:"checkPrice",value:function(e){var t="";return""===e&&(t="Price should not be empty"),t}},{key:"checkAvailableQuantity",value:function(e){var t="";return""===e&&(t="Available quantity should not be empty"),t}},{key:"checkEmail",value:function(e){var t="";return""===e?t="Email or Phone should not be empty":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(t="Email is not correct"),t}},{key:"checkPhone",value:function(e){var t="";return""===e&&(t="Phone should not be empty"),t}},{key:"checkComment",value:function(e){var t="";return e.length>199&&(t="This is a maximum size"),t}},{key:"checkQuantity",value:function(e){var t="";return""===e&&(t="Quantity should not be empty"),t}},{key:"checkFrequencyNum",value:function(e){var t="";if(""===e)return t="???? should not be empty and most be chose from on of the opened list above";var n=this.state.continuousType;return-1===("day"===n?["1","2","3","4","5","6"]:"week"===n?["1","2","3"]:["1","2","3","4","5","6","7","8","9","10","11","12"]).indexOf(e)&&(t="??? most be chose from on of the opened list above"),t}},{key:"checkMonth",value:function(e){var t="";if(""===e)return"Month field should not be empty";var n=h()().localeData().months();return-1===["1","2","3","4","5","6","7","8","9","10","11","12"].indexOf(e)&&-1===n.indexOf(e)&&(t="\u0531\u0574\u056b\u057d \u0564\u0561\u0577\u057f\u0568 \u057a\u0565\u057f\u0584 \u0567 \u0568\u0576\u057f\u0580\u057e\u0561\u056e \u056c\u056b\u0576\u056b \u0576\u0565\u0580\u0584\u0587\u0578\u0582\u0574 \u0562\u0561\u0581\u057e\u0561\u056e \u0581\u0578\u0582\u0581\u0561\u056f\u056b\u0581 \u056f\u0561\u0574 \u0564\u0580\u0561\u0576 \u0570\u0561\u0574\u0561\u057a\u0561\u057f\u0561\u057d\u056d\u0561\u0576 \u0569\u056b\u057e \u0574\u0578\u0582\u057f\u0584\u0561\u0563\u0580\u057e\u056b"),t}},{key:"checkYear",value:function(e){var t="";if(""===e)return"Year field should not be empty";for(var n=(new Date).getFullYear(),a=[],r=n;r<n+31;r++)a.push(String(r));return-1===a.indexOf(e)&&(t="\u054f\u0561\u0580\u056b \u0564\u0561\u0577\u057f\u0568 \u057a\u0565\u057f\u0584 \u0567 \u0570\u0561\u0574\u0561\u057a\u0561\u057f\u0561\u057d\u056d\u0561\u0576\u056b \u0576\u0565\u0580\u0584\u0587\u0578\u0582\u0574 \u0562\u0561\u0581\u057e\u0561\u056e \u0581\u0578\u0582\u0581\u0561\u056f\u056b \u0578\u0580\u0587\u0565 \u0561\u0576\u0564\u0561\u0574\u056b \u0570\u0565\u057f"),t}}]),t}(a.Component),Pt=Object(d.b)(function(e){return{common:e.content.common,cFF:e.content.Filter,email:e.user.email,isFetchingAddNew:e.proposals.isFetchingAddNew,startAddNewProposalAction:e.startAddNewProposalAction,addNewProposalAction:e.addNewProposalAction}},{startAddNewProposalAction:dt,addNewProposalAction:mt})(Bt),xt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props,n=t.startAddNewProposalAction,a=t.addNewProposalAction,r=t.history;n(),a(e,function(){r.push("/")})}},{key:"render",value:function(){return r.a.createElement(Pt,{editMode:!1,submit:this.handleSubmit})}}]),t}(a.Component),Mt=Object(d.b)(function(e){return{startAddNewProposalAction:e.startAddNewProposalAction,addNewProposalAction:e.addNewProposalAction}},{startAddNewProposalAction:dt,addNewProposalAction:mt})(xt),Rt=function(){return{type:"EDIT_PROPOSAL_START_FETCHING"}},Gt=function(e){return{type:"EDIT_PROPOSAL_SUCCESS",payload:e}},Ut=function(e){return{type:"EDIT_PROPOSAL_FAIL",payload:e}},qt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props,n=t.startEditProposalAction,a=t.editProposalAction,r=t.history;n(),a(e,function(){r.push("/")})}},{key:"render",value:function(){return r.a.createElement(Pt,{editMode:!0,proposal:this.props.location.state,submit:this.handleSubmit})}}]),t}(a.Component),Yt=Object(d.b)(function(e){return{startEditProposalAction:e.startEditProposalAction,editProposalAction:e.editProposalAction}},{startEditProposalAction:function(){return function(e){e(Rt())}},editProposalAction:function(e,t){return function(n){var a=localStorage.getItem("access_token");fetch("/proposalStatement",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(),n(Gt());throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),n(Ut(e))})}}})(qt),Vt=function(){return{type:"SAVE_DEMAND_START_FETCHING"}},Zt=function(e){return{type:"SAVE_DEMAND_SUCCESS",payload:e}},Wt=function(e){return{type:"SAVE_DEMAND_FAIL",payload:e}},zt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={price:"",unit:"",quantity:"",email:"",phone:"",comment:"",year:"",month:"",day:"",city:"",subType:"",oneTime:!0,continuous:!1,continuousType:"day",frequencyNum:"",is_mark_the_date:!1,isBlurred:{city:!1,subType:!1,price:!1,unit:!1,quantity:!1,email:!1,phone:!1,comment:!1},isInvalidMsg:{city:"",subType:"",price:"",unit:"",quantity:"",email:"",phone:"",comment:""}},n.handleFocusOnInput=n.handleFocusOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleBlurOnInput=n.handleBlurOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleInputOnInput=n.handleInputOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleFocusOnDropdownInput=n.handleFocusOnDropdownInput.bind(Object(V.a)(Object(V.a)(n))),n.handleClickOnDropdownListItem=n.handleClickOnDropdownListItem.bind(Object(V.a)(Object(V.a)(n))),n.handleBlurOnDropdownListItem=n.handleBlurOnDropdownListItem.bind(Object(V.a)(Object(V.a)(n))),n.toggleIsMarkTheDate=n.toggleIsMarkTheDate.bind(Object(V.a)(Object(V.a)(n))),n.clickOnRadio=n.clickOnRadio.bind(Object(V.a)(Object(V.a)(n))),n.clickOnRadioContinuousType=n.clickOnRadioContinuousType.bind(Object(V.a)(Object(V.a)(n))),n.validateAll=n.validateAll.bind(Object(V.a)(Object(V.a)(n))),n.validate=n.validate.bind(Object(V.a)(Object(V.a)(n))),n.setNameValue=n.setNameValue.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.editMode){var t=function(e){var t=e.parentElement;t.classList.add("jump"),t.classList.remove("jumpCancel")},n=function(e,t){t&&k.push({name:e,value:t})},a=this.props.demand,r=a.price,i=a.unit,o=a.quantity,c=a.email?a.email:"",s=a.phone?a.phone:"",l=a.comment?a.comment:"",u=a.is_mark_the_date?a.year:"",m=a.is_mark_the_date?a.month:"",d=a.is_mark_the_date&&a.day?a.day:"",p=a.region,h=a.city,y=a.type,f=a.subType,b=a.oneTime,v=a.continuous,E=a.continuous?a.continuousType:"day",O=a.continuous?a.frequencyNum:"",g=a.is_mark_the_date;this.setState({price:r,unit:i,quantity:o,email:c,phone:s,comment:l,year:u,month:m,day:d,region:p,city:h,type:y,subType:f,oneTime:b,continuous:v,continuousType:E,frequencyNum:O,is_mark_the_date:g,date:a.date,_id:a._id,user_id:a.user_id});var j=document.querySelector("form.add_demand"),k=[{name:"price",value:r},{name:"quantity",value:o}];n("email",c),n("phone",s),n("comment",l),n("year",u),n("month",m),n("day",d),n("frequencyNum",O),function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){var n=j.querySelector("#".concat(e.name));n.value=[e.value],t(n)})}(k);!function(n){n.forEach(function(n){var a=j.querySelector("#".concat(n.name));a.dataset.en=n.value,a.value=e.props.cFF[n.listName][n.value],t(a)})}([{name:"region",listName:"regions",value:p},{name:"city",listName:"cities",value:h},{name:"type",listName:"types",value:y},{name:"subType",listName:"subTypes",value:f}]);var S=j.querySelector("#unit");S.dataset.en=i,S.value=this.props.common.units[i],t(S),v?(j.querySelector('input[value="continuous"]').checked=!0,"day"===E?j.querySelector('input[value="day"]').checked=!0:"week"===E?j.querySelector('input[value="week"]').checked=!0:j.querySelector('input[value="month"]').checked=!0):g&&(j.querySelector("#is_mark_the_date").checked=!0)}}},{key:"toggleIsMarkTheDate",value:function(){var e=Object(E.a)({},this.state.isBlurred),t=Object(E.a)({},this.state.isInvalidMsg);this.state.is_mark_the_date?(delete e.year,delete e.month,delete t.year,delete t.month,this.setState({is_mark_the_date:!1,isBlurred:e,isInvalidMsg:t})):(e.year=!1,e.month=!1,t.year="",t.month="",this.setState({is_mark_the_date:!0,isBlurred:e,isInvalidMsg:t}))}},{key:"clickOnRadio",value:function(e){var t=e.target.value;if(!this.state[t]){var n=Object(E.a)({},this.state.isBlurred),a=Object(E.a)({},this.state.isInvalidMsg);"continuous"===t?(n.frequencyNum=!1,a.frequencyNum="",this.setState({oneTime:!this.state.oneTime,continuous:!this.state.continuous,isBlurred:n,isInvalidMsg:a})):(delete n.frequencyNum,delete a.frequencyNum,this.setState({oneTime:!this.state.oneTime,continuous:!this.state.continuous,isBlurred:n,isInvalidMsg:a}))}}},{key:"clickOnRadioContinuousType",value:function(e){var t=e.target.value;this.setState({continuousType:t})}},{key:"handleFocusOnInput",value:function(e){new ee(e).focus()}},{key:"handleBlurOnInput",value:function(e){var t=new ee(e);t.blur();var n=t.getNameValue(),a=n.name,r=n.value;this.setIsBlurredTrue(a),this.validate(a,r)}},{key:"handleInputOnInput",value:function(e){var t=new ee(e),n=t.getNameValue(),a=n.name,r=n.value,i=t.getDatasetEn();this.state.isBlurred[a]&&this.validate(a,r),this.setNameValue(a,i||r)}},{key:"handleFocusOnDropdownInput",value:function(e){new kt(e).focus()}},{key:"handleClickOnDropdownListItem",value:function(e){var t=new Lt(e);t.click();var n=t.getInput();this.setIsInvalidMsgByNameToEmpty(n.name)}},{key:"handleBlurOnDropdownListItem",value:function(e){var t=new ee(e);if(t.checkListIsClosed()){var n=t.getNameValue(),a=n.name,r=n.value;this.setIsBlurredTrue(a),this.validate(a,r)}}},{key:"onSubmit",value:function(e){if(e.preventDefault(),!this.validateAll()){var t=this.state,n=(t.isBlurred,t.isInvalidMsg,Object(Te.a)(t,["isBlurred","isInvalidMsg"]));this.props.submit(n)}}},{key:"setIsBlurredTrue",value:function(e){var t=Object(E.a)({},this.state.isBlurred);t[e]=!0,this.setState({isBlurred:t})}},{key:"setIsInvalidMsgByNameToEmpty",value:function(e){var t=Object(E.a)({},this.state.isInvalidMsg);t[e]="",this.setState({isInvalidMsg:t})}},{key:"setNameValue",value:function(e,t){this.setState(Object(P.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isBlurred,a=t.isInvalidMsg,i=Object(Te.a)(t,["isBlurred","isInvalidMsg"]),o=this.props,c=o.common,s=o.isFetchingAddNew,l={onFocus:this.handleFocusOnInput,onBlur:this.handleBlurOnInput,onInput:this.handleInputOnInput,isBlurred:n,isInvalidMsg:a},u={onFocus:this.handleFocusOnDropdownInput,onClick:this.handleClickOnDropdownListItem,onBlur:this.handleBlurOnDropdownListItem,onInput:this.handleInputOnInput,setNameValue:this.setNameValue,isBlurred:n,isInvalidMsg:a};return r.a.createElement(H.j,{className:"add_demand"},r.a.createElement(Ot,{onFocus:this.handleFocusOnDropdownInput,onClick:this.handleClickOnDropdownListItem,onBlur:this.handleBlurOnDropdownListItem,onInput:this.handleInputOnInput,setNameValue:this.setNameValue,isBlurred:n,isInvalidMsg:a}),r.a.createElement("div",{className:"mt-4 d-flex justify-content-around"},r.a.createElement("div",{className:"w-50"},r.a.createElement(H.e,{className:"mx-auto my-4"},r.a.createElement(ce,{name:"price",type:"number",commonProps:l}),r.a.createElement(Dt,{name:"unit",type:"text",commonProps:u,list:gt,listName:"units"}),r.a.createElement(ce,{name:"quantity",type:"number",commonProps:l}),r.a.createElement(H.l,{className:"d-flex"},r.a.createElement(H.l,{check:!0,className:"mr-5"},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"plan_to_have_radio",value:"oneTime",defaultChecked:"true",onClick:this.clickOnRadio}),c.oneTime)),r.a.createElement(H.l,{check:!0},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{type:"radio",name:"plan_to_have_radio",value:"continuous",onClick:this.clickOnRadio}),c.continuous))),r.a.createElement(H.l,{className:this.state.oneTime?"":"d-none"},r.a.createElement(H.l,{check:!0},r.a.createElement(H.n,{check:!0},r.a.createElement(H.m,{id:"is_mark_the_date",type:"checkbox",onChange:this.toggleIsMarkTheDate})," ",c.mark_the_date)),r.a.createElement(H.f,{isOpen:this.state.is_mark_the_date},r.a.createElement(H.l,{className:"d-flex"},r.a.createElement(Nt,{commonProps:u}),r.a.createElement(wt,{commonProps:u}),r.a.createElement(_t,{commonProps:u,year:this.state.year,month:this.state.month})))),r.a.createElement(H.l,{className:this.state.continuous?"":"d-none"},r.a.createElement(Ct,{commonProps:u,onClickOnRadioContinuousType:this.clickOnRadioContinuousType,continuousType:this.state.continuousType})),r.a.createElement(ce,{name:"email",type:"text",commonProps:l}),r.a.createElement(ce,{name:"phone",type:"text",commonProps:l}),r.a.createElement(ce,{name:"comment",type:"textarea",commonProps:l}),r.a.createElement(H.b,{disabled:s,onClick:function(t){return e.onSubmit(t)}},c.add))),r.a.createElement("div",{className:"position-relative w-50"},r.a.createElement("div",{className:"Demand proposal_demand_container position-fixed"},r.a.createElement(ot,{demand:i})))))}},{key:"validateAll",value:function(){var e,t=Object(E.a)({},this.state.isBlurred),n=[],a=Object.keys(t);a.forEach(function(a){t[a]=!0,e=document.getElementById(a),n.push({name:a,value:e.value})});var r=this.msgCreator(n);this.setState({isBlurred:t,isInvalidMsg:r});var i=!1;return a.forEach(function(e){i||""===r[e]||(i=!0)}),i}},{key:"validate",value:function(e,t){var n=this.msgCreator([{name:e,value:t}]);this.setState({isInvalidMsg:n})}},{key:"msgCreator",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(E.a)({},this.state.isInvalidMsg),a=Object(E.a)({},this.state.isBlurred),r="",i="",o="",c="";return t.forEach(function(t){switch(o=t.name,c=t.value.trim().toLowerCase(),o){case"city":n[o]=e.checkCity(c);break;case"subType":n[o]=e.checkSubType(c);break;case"price":n[o]=e.checkPrice(c);break;case"unit":n[o]=e.checkUnit(c);break;case"quantity":n[o]=e.checkQuantity(c);break;case"email":var s=document.querySelector('input[name="phone"]');r=e.checkEmail(c),i=e.checkPhone(s.value),""===r||""===i?(n.phone="",n[o]=""):(n[o]=r,a.phone=!0,e.setState({isBlurred:a}),n.phone="Phone or Email should not be empty");break;case"phone":var l=document.querySelector('input[name="email"]');i=e.checkPhone(c),r=e.checkEmail(l.value),""===i||""===r?(n[o]="",n.email=""):(n[o]=i,a.email=!0,e.setState({isBlurred:a}),n.email="Email or Phone should not be empty");break;case"comment":n[o]=e.checkComment(c);break;case"frequencyNum":n[o]=e.checkFrequencyNum(c);break;case"month":n[o]=e.checkMonth(c);break;case"year":n[o]=e.checkYear(c)}}),n}},{key:"checkCity",value:function(e){var t="";return""===e?t="City field most be chose from on of the opened list above":(-1===Object.values(this.props.cFF.cities).map(function(e){return e.toLowerCase()}).indexOf(e)&&(t="City field most be chose from on of the opened list above"),t)}},{key:"checkSubType",value:function(e){var t="";return""===e?t="subType field most be chose from on of the opened list above":(-1===Object.values(this.props.cFF.subTypes).map(function(e){return e.toLowerCase()}).indexOf(e)&&(t="subType field most be chose from on of the opened list above"),t)}},{key:"checkUnit",value:function(e){var t="";return""===e&&(t="Unit should not be empty and most be chose from on of the opened list above"),-1===Object.values(this.props.common.units).indexOf(e)&&(t="Unit most be chose from on of the opened list above"),t}},{key:"checkPrice",value:function(e){var t="";return""===e&&(t="Price should not be empty"),t}},{key:"checkQuantity",value:function(e){var t="";return""===e&&(t="Available quantity should not be empty"),t}},{key:"checkEmail",value:function(e){var t="";return""===e?t="Email or Phone should not be empty":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(t="Email is not correct"),t}},{key:"checkPhone",value:function(e){var t="";return""===e&&(t="Phone should not be empty"),t}},{key:"checkComment",value:function(e){var t="";return e.length>199&&(t="This is a maximum size"),t}},{key:"checkFrequencyNum",value:function(e){var t="";if(""===e)return t="???? should not be empty and most be chose from on of the opened list above";var n=this.state.continuousType;return-1===("day"===n?["1","2","3","4","5","6"]:"week"===n?["1","2","3"]:["1","2","3","4","5","6","7","8","9","10","11","12"]).indexOf(e)&&(t="??? most be chose from on of the opened list above"),t}},{key:"checkMonth",value:function(e){var t="";if(""===e)return"Month field should not be empty";var n=h()().localeData().months();return-1===["1","2","3","4","5","6","7","8","9","10","11","12"].indexOf(e)&&-1===n.indexOf(e)&&(t="\u0531\u0574\u056b\u057d \u0564\u0561\u0577\u057f\u0568 \u057a\u0565\u057f\u0584 \u0567 \u0568\u0576\u057f\u0580\u057e\u0561\u056e \u056c\u056b\u0576\u056b \u0576\u0565\u0580\u0584\u0587\u0578\u0582\u0574 \u0562\u0561\u0581\u057e\u0561\u056e \u0581\u0578\u0582\u0581\u0561\u056f\u056b\u0581 \u056f\u0561\u0574 \u0564\u0580\u0561\u0576 \u0570\u0561\u0574\u0561\u057a\u0561\u057f\u0561\u057d\u056d\u0561\u0576 \u0569\u056b\u057e \u0574\u0578\u0582\u057f\u0584\u0561\u0563\u0580\u057e\u056b"),t}},{key:"checkYear",value:function(e){var t="";if(""===e)return"Year field should not be empty";for(var n=(new Date).getFullYear(),a=[],r=n;r<n+31;r++)a.push(String(r));return-1===a.indexOf(e)&&(t="\u054f\u0561\u0580\u056b \u0564\u0561\u0577\u057f\u0568 \u057a\u0565\u057f\u0584 \u0567 \u0570\u0561\u0574\u0561\u057a\u0561\u057f\u0561\u057d\u056d\u0561\u0576\u056b \u0576\u0565\u0580\u0584\u0587\u0578\u0582\u0574 \u0562\u0561\u0581\u057e\u0561\u056e \u0581\u0578\u0582\u0581\u0561\u056f\u056b \u0578\u0580\u0587\u0565 \u0561\u0576\u0564\u0561\u0574\u056b \u0570\u0565\u057f"),t}}]),t}(a.Component),Jt=Object(d.b)(function(e){return{common:e.content.common,cFF:e.content.Filter,email:e.user.email,isFetchingAddNew:e.demands.isFetchingAddNew}})(zt),Ht=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props,n=t.startAddNewDemandAction,a=t.addNewDemandAction,r=t.history;n(),a(e,function(){r.push("/")})}},{key:"render",value:function(){this.props.isFetchingAddNew;return r.a.createElement(Jt,{editMode:!1,submit:this.handleSubmit})}}]),t}(a.Component),Qt=Object(d.b)(function(e){return{isFetchingAddNew:e.demands.isFetchingAddNew,startAddNewDemandAction:e.startAddNewDemandAction,addNewDemandAction:e.addNewDemandAction}},{startAddNewDemandAction:function(){return function(e){e(Vt())}},addNewDemandAction:function(e,t){return function(n){var a=localStorage.getItem("access_token");fetch("/addNewDemand",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(),n(Zt(e));throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),n(Wt(e))})}}})(Ht),Xt=function(){return{type:"EDIT_DEMAND_START_FETCHING"}},Kt=function(){return{type:"EDIT_DEMAND_SUCCESS"}},$t=function(e){return{type:"EDIT_DEMAND_FAIL",payload:e}},en=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props,n=t.startEditDemandAction,a=t.editDemandAction,r=t.history;n(),a(e,function(){r.push("/")})}},{key:"render",value:function(){return r.a.createElement(Jt,{editMode:!0,demand:this.props.location.state,submit:this.handleSubmit})}}]),t}(a.Component),tn=Object(d.b)(function(e){return{startEditDemandAction:e.startEditDemandAction,editDemandAction:e.editDemandAction}},{startEditDemandAction:function(){return function(e){e(Xt())}},editDemandAction:function(e,t){return function(n){var a=localStorage.getItem("access_token");fetch("/demandStatement",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(),n(Kt());throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),n($t(e))})}}})(en),nn=function(e){return{type:"SET_USER_EMAIL",payload:e}},an=function(e,t){return function(n){n(nn(e)),t()}},rn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=t.search,a=t.pathname+("undefined"!==n?n:"");fetch(a).then(function(e){return e.json()}).then(function(t){t.ok&&e.props.setUserEmailAction(t.user.email,function(){e.props.history.push("/login")})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return r.a.createElement("div",null,"VerifyEmail")}}]),t}(a.Component),on=Object(d.b)(null,{setUserEmailAction:an})(rn),cn=function(){return{type:"RESET_PASSWORD_SEND_EMAIL_START_FETCHING"}},sn=function(){return{type:"RESET_PASSWORD_SEND_EMAIL_SUCCESS"}},ln=function(e){return{type:"RESET_PASSWORD_SEND_EMAIL_FAIL",payload:e}},un=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isInvalidMsg:{email:"",password:"",repeat_password:""},isBlurred:{email:!1,password:!1,repeat_password:!1}},n.handleOnInput=n.handleOnInput.bind(Object(V.a)(Object(V.a)(n))),n.handleOnBlur=n.handleOnBlur.bind(Object(V.a)(Object(V.a)(n))),n.handleOnFocus=n.handleOnFocus.bind(Object(V.a)(Object(V.a)(n))),n.handleSendEmail=n.handleSendEmail.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleOnInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(P.a)({},t,n))}},{key:"handleOnFocus",value:function(e){new ee(e).focus()}},{key:"handleOnBlur",value:function(e){new ee(e).blur()}},{key:"handleSendEmail",value:function(e){e.preventDefault(),this.props.startSendEmail(),this.props.resetPasswordSendEmail(this.state)}},{key:"render",value:function(){var e=this.props.common,t=this.state,n=t.isBlurred,a=t.isInvalidMsg,i={onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,onInput:this.handleOnInput,isBlurred:n,isInvalidMsg:a};return r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement(H.j,{className:"col-4 mt-4"},r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:"email"},e.email),r.a.createElement(H.m,{id:"email",name:"email",onChange:this.handleOnInput,onBlur:this.handleOnBlur,onFocus:this.handleOnFocus})),r.a.createElement(H.b,{onClick:this.handleSendEmail},"Send Verification code"),r.a.createElement(ce,{name:"password",type:"password",commonProps:i}),r.a.createElement(ce,{name:"repeat_password",type:"password",commonProps:i}),r.a.createElement(H.l,{className:"jumperLabel"},r.a.createElement(H.n,{for:"verification_code"},"Verification code"),r.a.createElement(H.m,{id:"verification_code",type:"text",name:"verification_code",onInput:this.handleOnInput,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur}))))}}]),t}(a.Component),mn=Object(d.b)(function(e){return{common:e.content.common,startSendEmail:e.startSendEmail,resetPasswordSendEmail:e.resetPasswordSendEmail}},{startSendEmail:function(){return function(e){e(cn())}},resetPasswordSendEmail:function(e){return function(t){fetch("/resetPasswordSendEmail",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){throw e.ok&&t(sn()),new Error(e.errors||"something wrong")}).catch(function(e){console.error(e),t(ln(e))})}}})(un),dn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,id:""},n.toggle=n.toggle.bind(Object(V.a)(Object(V.a)(n))),n.editStatement=n.editStatement.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"deleteStatement",value:function(){this.props.delete(this.state.id)}},{key:"editStatement",value:function(e){var t=this.findId(e);this.props.edit(t)}},{key:"setId",value:function(e){var t=this.findId(e);this.setState({id:t})}},{key:"findId",value:function(e){return e.target.parentElement.parentElement.parentElement.parentElement.dataset.id}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-around position-absolute mb-2",style:{top:"-30px",right:"24px",width:"70px"}},r.a.createElement("div",null,r.a.createElement("a",{onClick:this.editStatement},r.a.createElement("img",{src:n(58),height:"24",alt:"Edit"}))),r.a.createElement("div",null,r.a.createElement("a",{onClick:function(t){e.toggle(),e.setId(t)}},r.a.createElement("img",{src:n(59),height:"24",alt:"Delete"})),r.a.createElement(H.q,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(H.r,null,"Do you want to delete?"),r.a.createElement(H.s,null,r.a.createElement(H.b,{color:"primary",onClick:function(t){e.toggle(),e.deleteStatement()}},"Delete")," ",r.a.createElement(H.b,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(a.Component),pn=function(){return{type:"GET_DEMANDS_BY_ID_START_FETCHING"}},hn=function(e){return{type:"GET_DEMANDS_BY_ID_SUCCESS",payload:e}},yn=function(e){return{type:"GET_DEMANDS_BY_ID_FAIL",payload:e}},fn=function(e){return function(t){t(pn()),fetch("/getDemandsById?_id=".concat(e),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(hn(e.demandsById));throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),t(yn(e))})}},bn=function(e){return{type:"DELETE_DEMAND_SUCCESS",payload:e}},vn=function(e){return{type:"DELETE_DEMAND_FAIL",payload:e}},En=function(e,t){return function(n){var a=localStorage.getItem("access_token");fetch("/demandStatement",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({_id:e})}).then(function(e){return e.redirected?(t.push("/login"),{ok:!1}):e.json()}).then(function(t){if(t.ok)return console.log(t),n(bn(e));throw new Error(t.errors||"Something wrong")}).catch(function(e){return console.error(e),vn(e)})}},On=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleDelete=n.handleDelete.bind(Object(V.a)(Object(V.a)(n))),n.handleEdit=n.handleEdit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user._id;this.props.getDemandsByIdAction(e)}},{key:"handleDelete",value:function(e){var t=this.props.history;this.props.deleteDemandAction(e,t)}},{key:"handleEdit",value:function(e){var t=this.props,n=t.history,a=t.demandsById.filter(function(t){return t._id===e});n.push({pathname:"/editDemand",state:a[0]})}},{key:"render",value:function(){var e=this,t=this.props.demandsById;return r.a.createElement(a.Fragment,null,t.map(function(t,n){return r.a.createElement("div",{className:"position-relative Demand mb-5 mt-3","data-id":t._id,key:n},r.a.createElement(dn,{delete:e.handleDelete,edit:e.handleEdit}),r.a.createElement(ot,{demand:t}))}))}}]),t}(a.Component),gn=Object(d.b)(function(e){return{user:e.user,demandsById:e.demandsById.demandsById}},{getDemandsByIdAction:fn,deleteDemandAction:En})(On),jn=function(){return{type:"GET_PROPSALS_BY_ID_START_FETCHING"}},kn=function(e){return{type:"GET_PROPOSALS_BY_ID_SUCCESS",payload:e}},Sn=function(e){return{type:"GET_PROPOSALS_BY_ID_FAIL",payload:e}},Nn=function(e){return function(t){t(jn()),fetch("/getProposalsById?_id=".concat(e),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(e.ok)return t(kn(e.proposalsById));throw new Error(e.errors||"Something wrong")}).catch(function(e){console.error(e),t(Sn(e))})}},In=function(e){return{type:"DELETE_PROPOSAL_SUCCESS",payload:e}},wn=function(e){return{type:"DELETE_PROPOSAL_FAIL",payload:e}},An=function(e,t){return function(n){var a=localStorage.getItem("access_token");fetch("/proposalStatement",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({_id:e})}).then(function(e){return e.redirected?(t.push("/login"),{ok:!1}):e.json()}).then(function(t){if(t.ok)return console.log(t),n(In(e));throw new Error(t.errors||"Something wrong")}).catch(function(e){return console.error(e),n(wn(e))})}},_n=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleDelete=n.handleDelete.bind(Object(V.a)(Object(V.a)(n))),n.handleEdit=n.handleEdit.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user._id;this.props.getProposalsByIdAction(e)}},{key:"handleDelete",value:function(e){console.log(e);var t=this.props.history;this.props.deleteProposalAction(e,t)}},{key:"handleEdit",value:function(e){var t=this.props,n=t.history,a=t.proposalsById;console.log(this.props);var r=a.filter(function(t){return t._id===e});console.log(r[0]),n.push({pathname:"/editProposal",state:r[0]})}},{key:"render",value:function(){var e=this,t=this.props.proposalsById;return r.a.createElement(a.Fragment,null,t.map(function(t,n){return r.a.createElement("div",{className:"position-relative Proposal mb-5 mt-3","data-id":t._id,key:n},r.a.createElement(dn,{delete:e.handleDelete,edit:e.handleEdit}),r.a.createElement(Ye,{proposal:t}))}))}}]),t}(a.Component),Tn=Object(d.b)(function(e){return{user:e.user,proposalsById:e.proposalsById.proposalsById}},{getProposalsByIdAction:Nn,deleteProposalAction:An})(_n),Cn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement("div",{className:"mt-4 d-flex justify-content-around"},r.a.createElement("div",{className:"proposal_demand_container"},r.a.createElement(Tn,{history:e})),r.a.createElement("div",{className:"proposal_demand_container"},r.a.createElement(gn,{history:e})))}}]),t}(a.Component),Fn=n(64),Dn=function(e){var t=function(t){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this.props.user,n=t.isFetching,a=t.isLoggedIn;return n?r.a.createElement("div",null,"Loading..."):a?r.a.createElement(e,this.props):r.a.createElement(Fn.a,{to:"login"})}}]),n}(r.a.Component);return Object(d.b)(function(e){return{user:e.user}})(t)},Ln=function(){return{type:"LOGOUT"}},Bn=function(e){return localStorage.removeItem("access_token"),function(t){t(Ln()),e()}},Pn=Object(J.a)(),xn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).logout=n.logout.bind(Object(V.a)(Object(V.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){document.querySelector("body").className="light"}},{key:"toggleMode",value:function(e){document.querySelector("body").className=e.target.innerText.toLowerCase()}},{key:"logout",value:function(){this.props.logoutAction(function(){Pn.push("/")})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.user.username;return r.a.createElement(Z.a,{history:Pn},r.a.createElement("div",null,r.a.createElement("ul",{className:"nav justify-content-between"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/"},"home")),r.a.createElement("li",null,r.a.createElement("ul",{className:"d-flex justify-content-between"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link green",to:"/addNewProposal"},t.addNewProposal)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link red",to:"/addNewDemand"},t.addNewDemand)))),this.props.user.isLoggedIn?r.a.createElement(H.v,{nav:!0,inNavbar:!0},r.a.createElement(H.i,{nav:!0,caret:!0},n),r.a.createElement(H.h,{right:!0},r.a.createElement(W.a,{className:"dropdown-item",to:"/myStatements"},"My statements"),r.a.createElement(H.g,null,"Settings"),r.a.createElement(H.g,{divider:!0}),r.a.createElement(H.g,{onClick:this.logout},"logout"))):r.a.createElement("li",null,r.a.createElement("ul",{className:"d-flex justify-content-between"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/login"},t.login)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/register"},t.register)))),r.a.createElement("li",{className:"light-dark"},r.a.createElement("ul",{className:"d-flex justify-content-between"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",onClick:this.toggleMode},"Light")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",onClick:this.toggleMode},"Dark")))),r.a.createElement("li",null,r.a.createElement(ye,null))),r.a.createElement(z.a,{exact:!0,path:"/",component:ut}),r.a.createElement(z.a,{path:"/addNewProposal",component:Dn(Mt)}),r.a.createElement(z.a,{path:"/editProposal",component:Dn(Yt)}),r.a.createElement(z.a,{path:"/addNewDemand",component:Dn(Qt)}),r.a.createElement(z.a,{path:"/editDemand",component:Dn(tn)}),r.a.createElement(z.a,{path:"/login",component:ne}),r.a.createElement(z.a,{path:"/register",component:ue}),r.a.createElement(z.a,{path:"/verifyEmail",component:on}),r.a.createElement(z.a,{path:"/resetPasswordSendEmail",component:mn}),r.a.createElement(z.a,{path:"/myStatements",component:Dn(Cn)})))}}]),t}(a.Component),Mn=Object(d.b)(function(e){return{content:e.content.Navigation,user:e.user,logoutAction:e.logoutAction}},{logoutAction:Bn})(xn),Rn=function(){return{type:"CHECK_TOKEN_START_FETCHING"}},Gn=function(e){return{type:"CHECK_TOKEN_SUCCESS",payload:e}},Un=function(){return{type:"CHECK_TOKEN_FAIL"}},qn=function(){return function(e){e(Rn());var t=localStorage.getItem("access_token");t?fetch("/checkToken",{method:"POST",headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).then(function(t){if(t.ok)return e(Gn(t.user));localStorage.removeItem("access_token"),e(Un())}).catch(function(t){localStorage.removeItem("access_token"),e(Un()),console.error(t)}):e(Un())}};localStorage.lang?(Y.dispatch(de(localStorage.lang)),"hy"===localStorage.lang?h.a.locale("hy-am"):h.a.locale(localStorage.lang)):(Y.dispatch(de("hy")),h.a.locale("hy-am")),Y.dispatch(qn());var Yn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:Y},r.a.createElement(Mn,null))}}]),t}(a.Component),Vn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Zn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(Yn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Vn?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Zn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Zn(e)})}}()}},[[38,2,1]]]);
//# sourceMappingURL=main.acc641ca.chunk.js.map